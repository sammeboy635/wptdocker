import{IssuesManager as e}from"../browser_sdk/browser_sdk.js";import{ls as t}from"../platform/platform.js";import{ContentSecurityPolicyIssue as s,Issue as i,SharedArrayBufferTransferIssue as n,NetworkLog as o,FrameManager as a,OverlayModel as r,SDKModel as d,DOMModel as l,MixedContentIssue as c}from"../sdk/sdk.js";import{Toolbar as u,ARIAUtils as h,ContextMenu as p,Widget as f,ViewManager as m,TreeOutline as g,Tooltip as C,UIUtils as _,Fragment as w}from"../ui/ui.js";import{html as v,render as k}from"../third_party/lit-html/lit-html.js";import{DataGridController as y,Icon as I}from"../ui/components/components.js";import{ObjectWrapper as b,EventTarget as E,Revealer as L,ls as x,Linkifier as R,Settings as S}from"../common/common.js";import{Linkifier as T}from"../components/components.js";import{ElementsPanelLink as A,Adorner as M}from"../elements/elements.js";import{userMetrics as V,InspectorFrontendHost as D}from"../host/host.js";import{NetworkPanel as O,NetworkItemView as q}from"../network/network.js";import{Runtime as F}from"../root/root.js";import{Marked as P}from"../third_party/marked/marked.js";class N extends u.ToolbarButton{constructor(e){super(e),this.options=new Array,this.headers=new Array,this.onOptionClicked=()=>{},this.turnIntoSelect(),this.addEventListener(u.ToolbarButton.Events.Click,this.showLevelContextMenu.bind(this)),h.markAsMenuButton(this.element)}addOption(e,t,s){this.options.push({title:e,value:t,default:s,enabled:s})}setOptionEnabled(e,t){const s=this.options[e];s&&(s.enabled=t,this.onOptionClicked())}addHeader(e,t){this.headers.push({title:e,callback:t})}setOnOptionClicked(e){this.onOptionClicked=e}getOptions(){return this.options}showLevelContextMenu(e){const t=e.data,s=new p.ContextMenu(t,!0,this.element.totalOffsetLeft(),this.element.totalOffsetTop()+this.element.offsetHeight);for(const{title:e,callback:t}of this.headers)s.headerSection().appendCheckboxItem(e,(()=>t()));for(const[e,{title:t,enabled:i}]of this.options.entries())s.defaultSection().appendCheckboxItem(t,(()=>{this.setOptionEnabled(e,!i)}),i);s.show()}}class B extends f.VBox{constructor(){super(!0),this.table=new y.DataGridController,this.categoryFilter=new Set,this.issueRows=new Map,this.registerRequiredCSS("issues/cspViolationsListView.css",{enableLegacyPatching:!1}),this.table.data={columns:[{id:"sourceCode",title:"Source Code",sortable:!1,widthWeighting:1,visible:!0,hideable:!1},{id:"violatedDirective",title:"Violated Directive",sortable:!1,widthWeighting:1,visible:!0,hideable:!1},{id:"category",title:"Category",sortable:!1,widthWeighting:1,visible:!0,hideable:!1},{id:"status",title:"Status",sortable:!1,widthWeighting:1,visible:!0,hideable:!1}],rows:[]},this.contentElement.appendChild(this.table)}updateTextFilter(e){0===e.length?this.table.data={...this.table.data,filters:[]}:this.table.data={...this.table.data,filters:[{text:e,key:void 0,regex:void 0,negative:!1}]}}updateCategoryFilter(e){this.categoryFilter=e;const t=[];for(const[e,s]of this.issueRows.entries())this.isIssueInFilterCategories(e)&&t.push(s);this.table.data={...this.table.data,rows:t}}isIssueInFilterCategories(e){return this.categoryFilter.has(e.code())||0===this.categoryFilter.size}addIssue(e){const t=e.details().sourceCodeLocation;if(!t)return;const s=e.details().isReportOnly?"report-only":"blocked",i=this.issueViolationCodeToCategoryName(e.code()),n={cells:[{columnId:"sourceCode",value:t.url,renderer:()=>v`<devtools-linkifier .data=${{url:t.url,lineNumber:t.lineNumber}}></devtools-linkifier>`},{columnId:"violatedDirective",value:e.details().violatedDirective},{columnId:"category",value:i},{columnId:"status",value:s}]};this.issueRows.set(e,n),this.isIssueInFilterCategories(e)&&(this.table.data.rows.push(n),this.table.data={...this.table.data})}clearIssues(){this.issueRows.clear(),this.table.data={...this.table.data,rows:[]}}issueViolationCodeToCategoryName(e){return e===s.inlineViolationCode?"Inline Violation":e===s.urlViolationCode?"URL Violation":e===s.evalViolationCode?"Eval Violation":e===s.trustedTypesSinkViolationCode?"Sink Violation":e===s.trustedTypesPolicyViolationCode?"Policy Violation":"unknown"}}let $;class U extends f.VBox{constructor(){super(!0),this.listView=new B,this.issuesManager=e.IssuesManager.instance(),this.registerRequiredCSS("issues/cspViolationsView.css",{enableLegacyPatching:!1}),this.contentElement.classList.add("csp-violations-pane");const i=new u.Toolbar("csp-violations-toolbar",this.contentElement),n=new u.ToolbarInput(t`Filter`,"",1,.2,"");n.addEventListener(u.ToolbarInput.Event.TextChanged,(()=>{this.listView.updateTextFilter(n.value())})),i.appendToolbarItem(n);const o=new N("Categories");o.setText("Categories"),o.addOption("Trusted Type Policy",s.trustedTypesPolicyViolationCode,!0),o.addOption("Trusted Type Sink",s.trustedTypesSinkViolationCode,!0),o.addOption("CSP Inline",s.inlineViolationCode,!0),o.addOption("CSP Eval",s.evalViolationCode,!0),o.addOption("CSP URL",s.urlViolationCode,!0),o.addHeader("Reset",(()=>{o.getOptions().forEach(((e,t)=>o.setOptionEnabled(t,e.default)))})),o.setOnOptionClicked((()=>{const e=new Set(o.getOptions().filter((e=>e.enabled)).map((e=>e.value)));this.listView.updateCategoryFilter(e)})),i.appendToolbarItem(o),this.listView.show(this.contentElement),this.issuesManager.addEventListener(e.Events.IssueAdded,this.onIssueAdded,this),this.issuesManager.addEventListener(e.Events.FullUpdateRequired,this.onFullUpdateRequired,this),this.addAllIssues()}static instance(e={forceNew:null}){const{forceNew:t}=e;return $&&!t||($=new U),$}onIssueAdded(e){const{issue:t}=e.data;t instanceof s.ContentSecurityPolicyIssue&&this.listView.addIssue(t)}onFullUpdateRequired(){this.listView.clearIssues(),this.addAllIssues()}addAllIssues(){for(const e of this.issuesManager.issues())e instanceof s.ContentSecurityPolicyIssue&&this.listView.addIssue(e)}}var H=Object.freeze({__proto__:null,CSPViolationsView:U});class j extends i.Issue{constructor(e){super(e),this._cookies=new Map,this._requests=new Map,this._representative=null,this._mixedContents=new Map,this._heavyAdIssueDetails=new Map,this._cspIssues=new Set,this._blockedByResponseDetails=new Map,this._aggregatedIssuesCount=0,this._sharedArrayBufferTransferIssues=new Set}primaryKey(){throw new Error("This should never be called")}blockedByResponseDetails(){return this._blockedByResponseDetails.values()}cookies(){return Array.from(this._cookies.values()).map((e=>e.cookie))}cookiesWithRequestIndicator(){return this._cookies.values()}heavyAds(){return this._heavyAdIssueDetails.values()}mixedContents(){return this._mixedContents.values()}cspIssues(){return this._cspIssues}requests(){return this._requests.values()}sharedArrayBufferTransfersIssues(){return this._sharedArrayBufferTransferIssues}getDescription(){return this._representative?this._representative.getDescription():null}getCategory(){return this._representative?this._representative.getCategory():i.IssueCategory.Other}getAggregatedIssuesCount(){return this._aggregatedIssuesCount}_keyForCookie(e){const{domain:t,path:s,name:i}=e;return`${t};${s};${i}`}addInstance(e){this._aggregatedIssuesCount++,this._representative||(this._representative=e);let t=!1;for(const s of e.requests())t=!0,this._requests.has(s.requestId)||this._requests.set(s.requestId,s);for(const s of e.cookies()){const e=this._keyForCookie(s);this._cookies.has(e)||this._cookies.set(e,{cookie:s,hasRequest:t})}for(const t of e.mixedContents()){const e=JSON.stringify(t);this._mixedContents.set(e,t)}for(const t of e.heavyAds()){const e=JSON.stringify(t);this._heavyAdIssueDetails.set(e,t)}for(const t of e.blockedByResponseDetails()){const e=JSON.stringify(t,["parentFrame","blockedFrame","requestId","frameId","reason","request"]);this._blockedByResponseDetails.set(e,t)}e instanceof s.ContentSecurityPolicyIssue&&this._cspIssues.add(e),e instanceof n.SharedArrayBufferTransferIssue&&this._sharedArrayBufferTransferIssues.add(e)}}class z extends b.ObjectWrapper{constructor(t){super(),this._aggregatedIssuesByCode=new Map,this._issuesManager=t,this._issuesManager.addEventListener(e.Events.IssueAdded,this._onIssueAdded,this),this._issuesManager.addEventListener(e.Events.FullUpdateRequired,this._onFullUpdateRequired,this);for(const e of this._issuesManager.issues())this._aggregateIssue(e)}_onIssueAdded(e){const{issue:t}=e.data;this._aggregateIssue(t)}_onFullUpdateRequired(){this._aggregatedIssuesByCode.clear();for(const e of this._issuesManager.issues())this._aggregateIssue(e);this.dispatchEventToListeners(W.FullUpdateRequired)}_aggregateIssue(e){let t=this._aggregatedIssuesByCode.get(e.code());return t||(t=new j(e.code()),this._aggregatedIssuesByCode.set(e.code(),t)),t.addInstance(e),this.dispatchEventToListeners(W.AggregatedIssueUpdated,t),t}aggregatedIssues(){return this._aggregatedIssuesByCode.values()}numberOfAggregatedIssues(){return this._aggregatedIssuesByCode.size}}const W={AggregatedIssueUpdated:Symbol("AggregatedIssueUpdated"),FullUpdateRequired:Symbol("FullUpdateRequired")};var G=Object.freeze({__proto__:null,AggregatedIssue:j,IssueAggregator:z,Events:W});var K=Object.freeze({__proto__:null,IssueRevealer:class{async reveal(e){if(!(e instanceof i.Issue))throw new Error("Internal error: not a issue");await m.ViewManager.instance().showView("issues-pane");const t=m.ViewManager.instance().view("issues-pane");if(t){(await t.widget()).revealByCode(e.code())}}}});const Z=e=>(/[^/]+$/.exec(e)||/[^/]+\/$/.exec(e)||[""])[0];class J extends g.TreeElement{constructor(e,t){super(),this.toggleOnClick=!0,this.parentView=e,this.resourceName=t,this.affectedResourcesCountElement=this.createAffectedResourcesCounter(),this.affectedResources=this.createAffectedResources(),this.affectedResourcesCount=0,this.networkListener=null,this.frameListeners=[],this.unresolvedRequestIds=new Set,this.unresolvedFrameIds=new Set}createAffectedResourcesCounter(){const e=document.createElement("div");return e.classList.add("affected-resource-label"),this.listItemElement.appendChild(e),e}createAffectedResources(){const e=new g.TreeElement,t=document.createElement("table");return t.classList.add("affected-resource-list"),e.listItemElement.appendChild(t),this.appendChild(e),t}getResourceName(e){return 1===e?this.resourceName.singular:this.resourceName.plural}updateAffectedResourceCount(e){this.affectedResourcesCount=e,this.affectedResourcesCountElement.textContent=`${e} ${this.getResourceName(e)}`,this.hidden=0===this.affectedResourcesCount,this.parentView.updateAffectedResourceVisibility()}isEmpty(){return 0===this.affectedResourcesCount}clear(){this.affectedResources.textContent=""}expandIfOneResource(){1===this.affectedResourcesCount&&this.expand()}resolveRequestId(e){const t=o.NetworkLog.instance().requestsForId(e);return t.length||(this.unresolvedRequestIds.add(e),this.networkListener||(this.networkListener=o.NetworkLog.instance().addEventListener(o.Events.RequestAdded,this.onRequestAdded,this))),t}onRequestAdded(e){const t=e.data,s=this.unresolvedRequestIds.delete(t.requestId());0===this.unresolvedRequestIds.size&&this.networkListener&&(E.EventTarget.removeEventListeners([this.networkListener]),this.networkListener=null),s&&this.update()}resolveFrameId(e){const t=a.FrameManager.instance().getFrame(e);if(!(t&&t.url||(this.unresolvedFrameIds.add(e),this.frameListeners.length))){const e=a.FrameManager.instance().addEventListener(a.Events.FrameAddedToTarget,this.onFrameChanged,this),t=a.FrameManager.instance().addEventListener(a.Events.FrameNavigated,this.onFrameChanged,this);this.frameListeners=[e,t]}return t}onFrameChanged(e){const t=e.data.frame;if(!t.url)return;const s=this.unresolvedFrameIds.delete(t.id);0===this.unresolvedFrameIds.size&&this.frameListeners.length&&(E.EventTarget.removeEventListeners(this.frameListeners),this.frameListeners=[]),s&&this.update()}createFrameCell(e,s){const i=this.resolveFrameId(e),n=i&&(i.unreachableUrl()||i.url)||t`unknown`,o=document.createElement("td");if(o.classList.add("affected-resource-cell"),i){const i=new I.Icon;i.data={iconName:"elements_panel_icon",color:"var(--issue-link)",width:"16px",height:"16px"},i.classList.add("link","elements-panel"),i.onclick=async()=>{V.issuesPanelResourceOpened(s.getCategory(),"Element");const t=a.FrameManager.instance().getFrame(e);if(t){const e=await t.getOwnerDOMNodeOrDocument();e&&L.reveal(e)}},C.Tooltip.install(i,t`Click to reveal the frame's DOM node in the Elements panel`),o.appendChild(i)}return o.appendChild(document.createTextNode(n)),o.onmouseenter=()=>{const t=a.FrameManager.instance().getFrame(e);t&&t.highlight()},o.onmouseleave=()=>r.OverlayModel.hideDOMNodeHighlight(),o}createRequestCell(e){let s=e.url,i=s?Z(s):"";const n=document.createElement("td");n.classList.add("affected-resource-cell");const o=new I.Icon;o.data={iconName:"network_panel_icon",color:"var(--issue-link)",width:"16px",height:"16px"},o.classList.add("network-panel"),n.appendChild(o);const a=this.resolveRequestId(e.requestId);if(a.length){const e=a[0];n.onclick=()=>{O.NetworkPanel.selectAndShowRequest(e,q.Tabs.Headers)},n.classList.add("link"),o.classList.add("link"),s=e.url(),i=Z(s),C.Tooltip.install(o,t`Click to show request in the network panel`)}else C.Tooltip.install(o,t`Request unavailable in the network panel, try reloading the inspected page`),o.classList.add("unavailable");return s&&C.Tooltip.install(n,s),n.appendChild(document.createTextNode(i)),n}appendSourceLocation(e,t,s=null,i=null){const n=document.createElement("td");if(n.classList.add("affected-source-location"),t){const e=40,o=new T.Linkifier(e).linkifyScriptLocation(s,i,t.url,t.lineNumber);n.appendChild(o)}e.appendChild(n)}appendColumnTitle(e,t,s=null){const i=document.createElement("td");i.classList.add("affected-resource-header"),s&&i.classList.add(s),i.textContent=t,e.appendChild(i)}update(){throw new Error("This should never be called, did you forget to override?")}}class Q extends J{constructor(e,s){super(e,{singular:t`directive`,plural:t`directives`}),this.issue=s}appendStatus(e,s){const i=document.createElement("td");s?(i.classList.add("affected-resource-report-only-status"),i.textContent=t`warning`):(i.classList.add("affected-resource-blocked-status"),i.textContent=t`blocked`),e.appendChild(i)}appendDetails(e){const s=document.createElement("tr");this.appendColumnTitle(s,t`Source Location`),this.appendColumnTitle(s,t`Status`),this.affectedResources.appendChild(s);let i=0;for(const t of e)i++,this.appendDetail(t);this.updateAffectedResourceCount(i)}appendDetail(e){const t=document.createElement("tr");t.classList.add("affected-resource-directive");const s=e.details();this.appendSourceLocation(t,s.sourceCodeLocation),this.appendStatus(t,s.isWarning),this.affectedResources.appendChild(t)}update(){this.clear(),this.appendDetails(this.issue.sharedArrayBufferTransfersIssues())}}const X=x;class Y extends HTMLElement{constructor(){super(...arguments),this.shadow=this.attachShadow({mode:"open"}),this.trigger="",this.canShowSurvey=()=>{},this.showSurvey=()=>{},this.state="Checking"}set data(e){this.trigger=e.trigger,this.canShowSurvey=e.canShowSurvey,this.showSurvey=e.showSurvey,this.checkSurvey()}checkSurvey(){this.state="Checking",this.canShowSurvey(this.trigger,(({canShowSurvey:e})=>{this.state=e?"ShowLink":"DontShowLink",this.render()}))}sendSurvey(){this.state="Sending",this.render(),this.showSurvey(this.trigger,(({surveyShown:e})=>{this.state=e?"SurveyShown":"Failed",this.render()}))}render(){if("Checking"===this.state||"DontShowLink"===this.state)return;let e=X`Is this issue message helpful to you?`;"Sending"===this.state?e=X`Opening survey …`:"SurveyShown"===this.state?e=X`Thank you for your feedback`:"Failed"===this.state&&(e=X`An error occurred with the survey`);let t="";"Sending"===this.state?t="pending-link":"Failed"!==this.state&&"SurveyShown"!==this.state||(t="disabled-link");const s="ShowLink"!==this.state,i=v`
      <style>
        .link-icon {
          vertical-align: sub;
          margin-right: 0.5ch;
        }

        .link {
          padding: 4px 0 0 0;
          text-decoration: underline;
          cursor: pointer;
          font-size: 14px;
          color: var(--issue-link);
          border: none;
          background: none;
        }

        .link:focus:not(:focus-visible) {
          outline: none;
        }

        .pending-link {
          opacity: 75%;
          pointer-events: none;
          cursor: default;
          text-decoration: none;
        }

        .disabled-link {
          pointer-events: none;
          cursor: default;
          text-decoration: none;
        }
      </style>
      <button class="link ${t}" tabindex=${s?"-1":"0"} aria-disabled=${s} @click=${this.sendSurvey}>
        <devtools-icon class="link-icon" .data=${{iconName:"feedback_thin_16x16_icon",color:"var(--issue-link)",width:"16px",height:"16px"}}></devtools-icon><!--
      -->${e}
      </button>
    `;k(i,this.shadow,{eventContext:this})}}customElements.define("devtools-issue-survey-link",Y);var ee=Object.freeze({__proto__:null,IssueSurveyLink:Y});const te=v,se=k;class ie extends HTMLElement{constructor(){super(...arguments),this.shadow=this.attachShadow({mode:"open"}),this.tokenData=[]}set data(e){this.tokenData=e.tokens,this.update()}update(){this.render()}render(){se(te`
      <style>
      .message {
        line-height: 20px;
        font-size: 14px;
        color: var(--issue-gray);
        margin-bottom: 4px;
        user-select: text;
      }

      .message p {
        margin-bottom: 16px;
        margin-block-start: 2px;
      }

      .message ul {
        list-style-type: none;
        list-style-position: inside;
        padding-inline-start: 0;
      }

      .message li {
        margin-top: 8px;
        display: list-item;
      }

      .message li::before {
        content: "→";
        -webkit-mask-image: none;
        padding-right: 5px;
        position: relative;
        top: -1px;
      }

      .message code {
        color: var(--issue-black);
        font-size: 12px;
        user-select: text;
        cursor: text;
        background: var(--issue-code);
      }
      </style>
      <div class='message'>
        ${this.tokenData.map(re)}
      </div>
    `,this.shadow)}}customElements.define("devtools-markdown-view",ie);const ne=e=>e.tokens.map(re),oe=e=>{const t=new Map([["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"'],["&#39;","'"]]);return e.replace(/&(amp|lt|gt|quot|#39);/g,(e=>{const s=t.get(e);return s||e}))},ae=new Map([["paragraph",e=>te`<p>${ne(e)}</p>`],["list",e=>te`<ul>${e.items.map(re)}</ul>`],["list_item",e=>te`<li>${ne(e)}</li>`],["text",e=>e.tokens&&e.tokens.length>0?te`${ne(e)}`:te`${oe(e.text)}`],["codespan",e=>te`<code>${oe(e.text)}</code>`],["space",()=>te``],["link",e=>te`<devtools-markdown-link .data=${{key:e.href,title:e.text}}></devtools-markdown-link>`],["image",e=>te`<devtools-markdown-image .data=${{key:e.href,title:e.text}}></devtools-markdown-image>`]]),re=e=>{const t=ae.get(e.type);if(!t)throw new Error(`Markdown token type '${e.type}' not supported.`);return t(e)};var de=Object.freeze({__proto__:null,MarkdownView:ie,renderToken:re});function le(e){return pe(he(function(e){const t=F.cachedResources.get(e);if(!t)throw new Error(`Markdown file ${e} not found. Declare it as a resource in the module.json file`);return t}(e.file),e.substitutions),e)}const ce=/\{(PLACEHOLDER_[a-zA-Z][a-zA-Z0-9]*)\}/g,ue=/PLACEHOLDER_[a-zA-Z][a-zA-Z0-9]*/;function he(e,t){const s=new Set(t?t.keys():[]);!function(e){const t=[...e].filter((e=>!ue.test(e)));if(t.length>0)throw new Error("Invalid placeholders provided in the substitutions map: "+t)}(s);const i=e.replace(ce,((e,i)=>{const n=t?t.get(i):void 0;if(!n)throw new Error(`No replacment provided for placeholder '${i}'.`);return s.delete(i),n}));if(s.size>0)throw new Error("Unused replacements provided: "+[...s]);return i}function pe(e,t){const s=P.lexer(e),n=function(e){if(0===e.length||"heading"!==e[0].type||1!==e[0].depth)return null;return e[0].text}(s);if(!n)throw new Error("Markdown issue descriptions must start with a heading");const o=new ie;return o.data={tokens:s.slice(1)},{title:n,message:()=>o,issueKind:i.IssueKind.BreakingChange,links:t.links}}var fe=Object.freeze({__proto__:null,createIssueDescriptionFromMarkdown:le,substitutePlaceholders:he,createIssueDescriptionFromRawMarkdown:pe});class me extends J{constructor(e,s){super(e,{singular:t`element`,plural:t`elements`}),this._issue=s}_sendTelemetry(){V.issuesPanelResourceOpened(this._issue.getCategory(),"Element")}async _appendAffectedElements(e){let t=0;for(const s of e)await this._appendAffectedElement(s),t++;this.updateAffectedResourceCount(t)}async _appendAffectedElement({backendNodeId:e,nodeName:t}){const s=d.TargetManager.instance().mainTarget(),i=new l.DeferredDOMNode(s,e),n=await R.Linkifier.linkify(i);n.textContent=t,n.addEventListener("click",this._sendTelemetry),n.addEventListener("keydown",(e=>{"Enter"===e.key&&this._sendTelemetry()}));const o=document.createElement("td");o.classList.add("affected-resource-element","devtools-link"),o.appendChild(n);const a=document.createElement("tr");a.appendChild(o),this.affectedResources.appendChild(a)}update(){this.clear(),this._appendAffectedElements(this._issue.elements())}}class ge extends J{constructor(e,s){super(e,{singular:t`directive`,plural:t`directives`}),this._issue=s}_appendStatus(e,s){const i=document.createElement("td");s?(i.classList.add("affected-resource-report-only-status"),i.textContent=t`report-only`):(i.classList.add("affected-resource-blocked-status"),i.textContent=t`blocked`),e.appendChild(i)}_appendViolatedDirective(e,t){const s=document.createElement("td");s.textContent=t,e.appendChild(s)}_appendBlockedURL(e,t){const s=document.createElement("td");s.classList.add("affected-resource-directive-info"),s.textContent=t,e.appendChild(s)}_appendBlockedElement(e,s,i){const n=new A.ElementsPanelLink;if(s){const e=s;C.Tooltip.install(n,t`Click to reveal the violating DOM node in the Elements panel`);const o=()=>{const t=i.getTargetIfNotDisposed();if(t){V.issuesPanelResourceOpened(this._issue.getCategory(),"Element");const s=new l.DeferredDOMNode(t,e);L.reveal(s)}},a=()=>{const t=i.getTargetIfNotDisposed();if(t){const s=new l.DeferredDOMNode(t,e);s&&s.highlight()}},d=()=>{r.OverlayModel.hideDOMNodeHighlight()};n.data={onElementRevealIconClick:o,onElementRevealIconMouseEnter:a,onElementRevealIconMouseLeave:d}}const o=document.createElement("td");o.classList.add("affected-resource-csp-info-node"),o.appendChild(n),e.appendChild(o)}_appendAffectedContentSecurityPolicyDetails(e){const i=document.createElement("tr");if(this._issue.code()===s.inlineViolationCode)this.appendColumnTitle(i,t`Directive`),this.appendColumnTitle(i,t`Element`),this.appendColumnTitle(i,t`Source Location`),this.appendColumnTitle(i,t`Status`);else if(this._issue.code()===s.urlViolationCode)this.appendColumnTitle(i,t`Resource`,"affected-resource-directive-info-header"),this.appendColumnTitle(i,t`Status`),this.appendColumnTitle(i,t`Directive`),this.appendColumnTitle(i,t`Source Location`);else if(this._issue.code()===s.evalViolationCode)this.appendColumnTitle(i,t`Source Location`),this.appendColumnTitle(i,t`Directive`),this.appendColumnTitle(i,t`Status`);else if(this._issue.code()===s.trustedTypesSinkViolationCode)this.appendColumnTitle(i,t`Source Location`),this.appendColumnTitle(i,t`Status`);else{if(this._issue.code()!==s.trustedTypesPolicyViolationCode)return void this.updateAffectedResourceCount(0);this.appendColumnTitle(i,t`Source Location`),this.appendColumnTitle(i,t`Directive`),this.appendColumnTitle(i,t`Status`)}this.affectedResources.appendChild(i);let n=0;for(const t of e)n++,this._appendAffectedContentSecurityPolicyDetail(t);this.updateAffectedResourceCount(n)}_appendAffectedContentSecurityPolicyDetail(e){const t=document.createElement("tr");t.classList.add("affected-resource-directive");const i=e.details(),n=e.model();if(this._issue.code()===s.inlineViolationCode&&n)this._appendViolatedDirective(t,i.violatedDirective),this._appendBlockedElement(t,i.violatingNodeId,n),this.appendSourceLocation(t,i.sourceCodeLocation),this._appendStatus(t,i.isReportOnly);else if(this._issue.code()===s.urlViolationCode){const e=i.blockedURL?i.blockedURL:"";this._appendBlockedURL(t,e),this._appendStatus(t,i.isReportOnly),this._appendViolatedDirective(t,i.violatedDirective),this.appendSourceLocation(t,i.sourceCodeLocation)}else if(this._issue.code()===s.evalViolationCode)this.appendSourceLocation(t,i.sourceCodeLocation),this._appendViolatedDirective(t,i.violatedDirective),this._appendStatus(t,i.isReportOnly);else if(this._issue.code()===s.trustedTypesSinkViolationCode)this.appendSourceLocation(t,i.sourceCodeLocation),this._appendStatus(t,i.isReportOnly);else{if(this._issue.code()!==s.trustedTypesPolicyViolationCode)return;this.appendSourceLocation(t,i.sourceCodeLocation),this._appendViolatedDirective(t,i.violatedDirective),this._appendStatus(t,i.isReportOnly)}this.affectedResources.appendChild(t)}update(){this.clear(),this._appendAffectedContentSecurityPolicyDetails(this._issue.cspIssues())}}class Ce extends J{constructor(e,s){super(e,{singular:t`cookie`,plural:t`cookies`}),this._issue=s}_appendAffectedCookies(e){const s=document.createElement("tr"),i=document.createElement("td");i.classList.add("affected-resource-header"),i.textContent="Name",s.appendChild(i);const n=document.createElement("td");n.classList.add("affected-resource-header"),n.classList.add("affected-resource-cookie-info-header"),n.textContent=t`Domain`+" & "+t`Path`,s.appendChild(n),this.affectedResources.appendChild(s);let o=0;for(const t of e)o++,this.appendAffectedCookie(t.cookie,t.hasRequest);this.updateAffectedResourceCount(o)}appendAffectedCookie(e,t){const s=document.createElement("tr");s.classList.add("affected-resource-cookie");const i=document.createElement("td");t?i.appendChild(_.createTextButton(e.name,(()=>{V.issuesPanelResourceOpened(this._issue.getCategory(),"Cookie"),O.NetworkPanel.revealAndFilter([{filterType:"cookie-domain",filterValue:e.domain},{filterType:"cookie-name",filterValue:e.name},{filterType:"cookie-path",filterValue:e.path}])}),"link-style devtools-link")):i.textContent=e.name;const n=document.createElement("td");n.classList.add("affected-resource-cookie-info"),n.textContent=`${e.domain}${e.path}`,s.appendChild(i),s.appendChild(n),this.affectedResources.appendChild(s)}update(){this.clear(),this._appendAffectedCookies(this._issue.cookiesWithRequestIndicator())}}class _e extends J{constructor(e,s){super(e,{singular:t`request`,plural:t`requests`}),this._issue=s}_appendAffectedRequests(e){let t=0;for(const s of e)for(const e of this.resolveRequestId(s.requestId))t++,this._appendNetworkRequest(e);this.updateAffectedResourceCount(t)}_appendNetworkRequest(e){const t=e.name().trimMiddle(100),s=document.createElement("td"),i=ve.get(this._issue.getCategory())||q.Tabs.Headers;s.appendChild(_.createTextButton(t,(()=>{V.issuesPanelResourceOpened(this._issue.getCategory(),"Request"),O.NetworkPanel.selectAndShowRequest(e,i)}),"link-style devtools-link"));const n=document.createElement("tr");n.classList.add("affected-resource-request"),n.appendChild(s),this.affectedResources.appendChild(n)}update(){this.clear();for(const e of this._issue.blockedByResponseDetails())return void this.updateAffectedResourceCount(0);this._appendAffectedRequests(this._issue.requests())}}class we extends J{constructor(e,s){super(e,{singular:t`source`,plural:t`sources`}),this._issue=s}_appendAffectedSources(e){let t=0;for(const s of e)this._appendAffectedSource(s),t++;this.updateAffectedResourceCount(t)}_appendAffectedSource({url:e,lineNumber:t,columnNumber:s}){const i=document.createElement("td"),n={columnNumber:s,lineNumber:t,tabStop:!0},o=T.Linkifier.linkifyURL(e,n);i.appendChild(o);const a=document.createElement("tr");a.classList.add("affected-resource-source"),a.appendChild(i),this.affectedResources.appendChild(a)}update(){this.clear(),this._appendAffectedSources(this._issue.sources())}}const ve=new Map([[i.IssueCategory.SameSiteCookie,q.Tabs.Cookies],[i.IssueCategory.CrossOriginEmbedderPolicy,q.Tabs.Headers],[i.IssueCategory.MixedContent,q.Tabs.Headers]]);class ke extends J{constructor(e,s){super(e,{singular:t`resource`,plural:t`resources`}),this._issue=s}_appendAffectedMixedContents(e){const s=document.createElement("tr"),i=document.createElement("td");i.classList.add("affected-resource-header"),i.textContent=t`Name`,s.appendChild(i);const n=document.createElement("td");n.classList.add("affected-resource-header"),n.textContent=t`Restriction Status`,s.appendChild(n),this.affectedResources.appendChild(s);let o=0;for(const t of e)t.request?this.resolveRequestId(t.request.requestId).forEach((e=>{this.appendAffectedMixedContent(t,e),o++})):(this.appendAffectedMixedContent(t),o++);this.updateAffectedResourceCount(o)}appendAffectedMixedContent(e,t=null){const s=document.createElement("tr");s.classList.add("affected-resource-mixed-content");const i=Z(e.insecureURL),n=document.createElement("td");if(t){const e=t,s=ve.get(this._issue.getCategory())||q.Tabs.Headers;n.appendChild(_.createTextButton(i,(()=>{V.issuesPanelResourceOpened(this._issue.getCategory(),"Request"),O.NetworkPanel.selectAndShowRequest(e,s)}),"link-style devtools-link"))}else n.classList.add("affected-resource-mixed-content-info"),n.textContent=i;C.Tooltip.install(n,e.insecureURL),s.appendChild(n);const o=document.createElement("td");o.classList.add("affected-resource-mixed-content-info"),o.textContent=c.MixedContentIssue.translateStatus(e.resolutionStatus),s.appendChild(o),this.affectedResources.appendChild(s)}update(){this.clear(),this._appendAffectedMixedContents(this._issue.mixedContents())}}class ye extends J{constructor(e,s){super(e,{singular:t`resource`,plural:t`resources`}),this._issue=s}_appendAffectedHeavyAds(e){const s=document.createElement("tr"),i=document.createElement("td");i.classList.add("affected-resource-header"),i.textContent=t`Limit exceeded`,s.appendChild(i);const n=document.createElement("td");n.classList.add("affected-resource-header"),n.textContent=t`Resolution Status`,s.appendChild(n);const o=document.createElement("td");o.classList.add("affected-resource-header"),o.textContent=t`Frame URL`,s.appendChild(o),this.affectedResources.appendChild(s);let a=0;for(const t of e)this._appendAffectedHeavyAd(t),a++;this.updateAffectedResourceCount(a)}_statusToString(e){switch(e){case Protocol.Audits.HeavyAdResolutionStatus.HeavyAdBlocked:return t`Removed`;case Protocol.Audits.HeavyAdResolutionStatus.HeavyAdWarning:return t`Warned`}return""}_limitToString(e){switch(e){case Protocol.Audits.HeavyAdReason.CpuPeakLimit:return t`CPU peak limit`;case Protocol.Audits.HeavyAdReason.CpuTotalLimit:return t`CPU total limit`;case Protocol.Audits.HeavyAdReason.NetworkTotalLimit:return t`Network limit`}return""}_appendAffectedHeavyAd(e){const t=document.createElement("tr");t.classList.add("affected-resource-heavy-ad");const s=document.createElement("td");s.classList.add("affected-resource-heavy-ad-info"),s.textContent=this._limitToString(e.reason),t.appendChild(s);const i=document.createElement("td");i.classList.add("affected-resource-heavy-ad-info"),i.textContent=this._statusToString(e.resolution),t.appendChild(i);const n=e.frame.frameId,o=this.createFrameCell(n,this._issue);t.appendChild(o),this.affectedResources.appendChild(t)}update(){this.clear(),this._appendAffectedHeavyAds(this._issue.heavyAds())}}class Ie extends J{constructor(e,s){super(e,{singular:t`request`,plural:t`requests`}),this._issue=s}_appendDetails(e){const s=document.createElement("tr"),i=document.createElement("td");i.classList.add("affected-resource-header"),i.textContent=t`Request`,s.appendChild(i);const n=document.createElement("td");n.classList.add("affected-resource-header"),n.textContent=t`Parent Frame`,s.appendChild(n);const o=document.createElement("td");o.classList.add("affected-resource-header"),o.textContent=t`Blocked Resource`,s.appendChild(o),this.affectedResources.appendChild(s);let a=0;for(const t of e)this._appendDetail(t),a++;this.updateAffectedResourceCount(a)}_appendDetail(e){const t=document.createElement("tr");t.classList.add("affected-resource-row");const s=this.createRequestCell(e.request);if(t.appendChild(s),e.parentFrame){const s=this.createFrameCell(e.parentFrame.frameId,this._issue);t.appendChild(s)}else t.appendChild(document.createElement("td"));if(e.blockedFrame){const s=this.createFrameCell(e.blockedFrame.frameId,this._issue);t.appendChild(s)}else t.appendChild(document.createElement("td"));this.affectedResources.appendChild(t)}update(){this.clear(),this._appendDetails(this._issue.blockedByResponseDetails())}}const be=new Map([[i.IssueCategory.CrossOriginEmbedderPolicy,t`Cross Origin Embedder Policy`],[i.IssueCategory.MixedContent,t`Mixed Content`],[i.IssueCategory.SameSiteCookie,t`SameSite Cookie`],[i.IssueCategory.HeavyAd,t`Heavy Ads`],[i.IssueCategory.ContentSecurityPolicy,t`Content Security Policy`],[i.IssueCategory.Other,t`Other`]]);class Ee extends g.TreeElement{constructor(e){super(),this._category=e,this._issues=[],this.toggleOnClick=!0,this.listItemElement.classList.add("issue-category")}getCategoryName(){return be.get(this._category)||t`Other`}onattach(){this._appendHeader()}_appendHeader(){const e=document.createElement("div");e.classList.add("header");const t=document.createElement("div");t.classList.add("title"),t.textContent=this.getCategoryName(),e.appendChild(t),this.listItemElement.appendChild(e)}}const Le=new Map([[i.IssueCategory.CrossOriginEmbedderPolicy,"devtools-issues-coep"],[i.IssueCategory.MixedContent,"devtools-issues-mixed-content"],[i.IssueCategory.SameSiteCookie,"devtools-issues-cookies-samesite"],[i.IssueCategory.HeavyAd,"devtools-issues-heavy-ad"],[i.IssueCategory.ContentSecurityPolicy,"devtools-issues-csp"],[i.IssueCategory.Other,null]]);class xe extends g.TreeElement{constructor(e,t,s){super(),this._parent=e,this._issue=t,this._description=s,this.toggleOnClick=!0,this.listItemElement.classList.add("issue"),this.childrenListElement.classList.add("body"),this.affectedResources=this._createAffectedResources(),this._affectedResourceViews=[new Ce(this,this._issue),new me(this,this._issue),new _e(this,this._issue),new ke(this,this._issue),new we(this,this._issue),new ye(this,this._issue),new ge(this,this._issue),new Ie(this,this._issue),new Q(this,this._issue)],this._aggregatedIssuesCount=null,this._hasBeenExpandedBefore=!1}getIssueTitle(){return this._description.title}onattach(){this._appendHeader(),this._createBody(),this.appendChild(this.affectedResources);for(const e of this._affectedResourceViews)this.appendAffectedResource(e),e.update();this._createReadMoreLinks(),this.updateAffectedResourceVisibility()}appendAffectedResource(e){this.affectedResources.appendChild(e)}_appendHeader(){const e=document.createElement("div");e.classList.add("header");const t=new I.Icon;t.data={iconName:"breaking_change_icon",color:"",width:"16px",height:"16px"},t.classList.add("breaking-change"),this._aggregatedIssuesCount=document.createElement("span");const s=M.Adorner.create(this._aggregatedIssuesCount,"countWrapper");s.classList.add("aggregated-issues-count"),this._aggregatedIssuesCount.textContent=""+this._issue.getAggregatedIssuesCount(),e.appendChild(t),e.appendChild(s);const i=document.createElement("div");i.classList.add("title"),i.textContent=this._description.title,e.appendChild(i),this.listItemElement.appendChild(e)}onexpand(){const e=this._issue.getCategory().description;if(V.issuesPanelIssueExpanded(e),!this._hasBeenExpandedBefore){this._hasBeenExpandedBefore=!0;for(const e of this._affectedResourceViews)e.expandIfOneResource()}}_updateAggregatedIssuesCount(){this._aggregatedIssuesCount&&(this._aggregatedIssuesCount.textContent=""+this._issue.getAggregatedIssuesCount())}updateAffectedResourceVisibility(){const e=this._affectedResourceViews.every((e=>e.isEmpty()));this.affectedResources.hidden=e}_createAffectedResources(){const e=new g.TreeElement;return e.setCollapsible(!1),e.setExpandable(!0),e.expand(),e.selectable=!1,e.listItemElement.classList.add("affected-resources-label"),e.listItemElement.textContent=t`Affected Resources`,e.childrenListElement.classList.add("affected-resources"),e}_createBody(){const e=new g.TreeElement;e.setCollapsible(!1),e.selectable=!1;const t=this._description.message();e.listItemElement.appendChild(t),this.appendChild(e)}_createReadMoreLinks(){const e=new g.TreeElement;e.setCollapsible(!1),e.listItemElement.classList.add("link-wrapper");const s=e.listItemElement.createChild("ul","link-list");for(const e of this._description.links){const i=w.html`<a class="link devtools-link" role="link" tabindex="0" href=${e.link}>${t`Learn more: ${e.linkTitle}`}</a>`,n=new I.Icon;n.data={iconName:"link_icon",color:"var(--issue-link)",width:"16px",height:"16px"},n.classList.add("link-icon"),i.prepend(n),self.onInvokeElement(i,(t=>{V.issuesPanelResourceOpened(this._issue.getCategory(),"LearnMore");const s=d.TargetManager.instance().mainTarget();s&&s.targetAgent().invoke_createTarget({url:e.link}),t.consume(!0)}));s.createChild("li").appendChild(i)}this.appendChild(e);const i=Le.get(this._issue.getCategory());if(i){const e=new Y;e.data={trigger:i,canShowSurvey:D.InspectorFrontendHostInstance.canShowSurvey,showSurvey:D.InspectorFrontendHostInstance.showSurvey},s.createChild("li").appendChild(e)}}update(){this._affectedResourceViews.forEach((e=>e.update())),this.updateAffectedResourceVisibility(),this._updateAggregatedIssuesCount()}toggle(e){e||void 0===e&&!this.expanded?this.expand():this.collapse()}}function Re(){return S.Settings.instance().createSetting("groupIssuesByCategory",!1)}let Se;class Te extends f.VBox{constructor(){super(!0),this.registerRequiredCSS("issues/issuesPane.css",{enableLegacyPatching:!1}),this.contentElement.classList.add("issues-pane"),this._categoryViews=new Map,this._issueViews=new Map,this._showThirdPartyCheckbox=null;const{toolbarContainer:t,updateToolbarIssuesCount:s}=this._createToolbars();this._issuesToolbarContainer=t,this._updateToolbarIssuesCount=s,this._issuesTree=new g.TreeOutlineInShadow,this._issuesTree.registerRequiredCSS("issues/issuesTree.css",{enableLegacyPatching:!0}),this._issuesTree.setShowSelectionOnKeyboardFocus(!0),this._issuesTree.contentElement.classList.add("issues"),this.contentElement.appendChild(this._issuesTree.element),this._noIssuesMessageDiv=document.createElement("div"),this._noIssuesMessageDiv.classList.add("issues-pane-no-issues"),this.contentElement.appendChild(this._noIssuesMessageDiv),this._issuesManager=e.IssuesManager.instance(),this._aggregator=new z(this._issuesManager),this._aggregator.addEventListener(W.AggregatedIssueUpdated,this._issueUpdated,this),this._aggregator.addEventListener(W.FullUpdateRequired,this._fullUpdate,this);for(const e of this._aggregator.aggregatedIssues())this._updateIssueView(e);this._issuesManager.addEventListener(e.Events.IssuesCountUpdated,this._updateCounts,this),this._updateCounts()}static instance(e={forceNew:null}){const{forceNew:t}=e;return Se&&!t||(Se=new Te),Se}elementsToRestoreScrollPositionsFor(){return[this._issuesTree.element]}_createToolbars(){const e=this.contentElement.createChild("div","issues-toolbar-container");new u.Toolbar("issues-toolbar-left",e);const s=new u.Toolbar("issues-toolbar-right",e),n=Re(),o=new u.ToolbarSettingCheckbox(n,t`Group displayed issues under associated categories`,t`Group by category`);o.setVisible(!1),s.appendToolbarItem(o),n.addChangeListener((()=>{this._fullUpdate()}));const a=i.getShowThirdPartyIssuesSetting();this._showThirdPartyCheckbox=new u.ToolbarSettingCheckbox(a,t`Include cookie Issues caused by third-party sites`,t`Include third-party cookie issues`),s.appendToolbarItem(this._showThirdPartyCheckbox),this.setDefaultFocusedElement(this._showThirdPartyCheckbox.inputElement),s.appendSeparator();const r=document.createElement("div");r.classList.add("toolbar-warnings");const d=new I.Icon;d.data={iconName:"breaking_change_icon",color:"",width:"16px",height:"16px"},d.classList.add("breaking-change"),r.appendChild(d);const l=r.createChild("span","warnings-count-label"),c=new u.ToolbarItem(r);s.appendToolbarItem(c);return{toolbarContainer:e,updateToolbarIssuesCount:e=>{l.textContent=""+e,1===e?c.setTitle(t`Issues pertaining to ${e} operation detected.`):c.setTitle(t`Issues pertaining to ${e} operations detected.`)}}}_issueUpdated(e){const t=e.data;this._updateIssueView(t)}_updateIssueView(e){if(!this._issueViews.has(e.code())){let t=e.getDescription();if(!t)return void console.warn("Could not find description for issue code:",e.code());"file"in t&&(t=le(t));const s=new xe(this,e,t);this._issueViews.set(e.code(),s);this._getIssueViewParent(e).appendChild(s,((e,t)=>e instanceof xe&&t instanceof xe?e.getIssueTitle().localeCompare(t.getIssueTitle()):(console.error("The issues tree should only contain IssueView objects as direct children"),0)))}this._issueViews.get(e.code()).update(),this._updateCounts()}_getIssueViewParent(e){if(!Re().get())return this._issuesTree;const t=e.getCategory(),s=this._categoryViews.get(t);if(s)return s;const i=new Ee(t);return this._issuesTree.appendChild(i,((e,t)=>e instanceof Ee&&t instanceof Ee?e.getCategoryName().localeCompare(t.getCategoryName()):0)),this._categoryViews.set(t,i),i}_clearViews(e){for(const t of e.values())t.parent&&t.parent.removeChild(t);e.clear()}_fullUpdate(){if(this._clearViews(this._categoryViews),this._clearViews(this._issueViews),this._aggregator)for(const e of this._aggregator.aggregatedIssues())this._updateIssueView(e);this._updateCounts()}_updateCounts(){const e=this._issuesManager.numberOfIssues();this._updateToolbarIssuesCount(e),this._showIssuesTreeOrNoIssuesDetectedMessage(e)}_showIssuesTreeOrNoIssuesDetectedMessage(e){if(e>0){this._issuesTree.element.hidden=!1,this._noIssuesMessageDiv.style.display="none";const e=this._issuesTree.firstChild();e&&(e.select(!0),this.setDefaultFocusedElement(e.listItemElement))}else{this._issuesTree.element.hidden=!0,this._showThirdPartyCheckbox&&this.setDefaultFocusedElement(this._showThirdPartyCheckbox.inputElement);const e=this._issuesManager.numberOfAllStoredIssues()>0;this._noIssuesMessageDiv.textContent=e?t`Only third-party cookie issues detected so far`:t`No issues detected so far`,this._noIssuesMessageDiv.style.display="flex"}}revealByCode(e){const t=this._issueViews.get(e);t&&(t.expand(),t.reveal())}}var Ae=Object.freeze({__proto__:null,IssueCategoryNames:be,IssueView:xe,getGroupIssuesByCategorySetting:Re,IssuesPaneImpl:Te});const Me=new Map([]),Ve=e=>{const t=Me.get(e);if(!t)throw new Error(`Markdown image with key '${e}' is not available, please check MarkdownImagesMap.ts`);return t};var De=Object.freeze({__proto__:null,markdownImages:Me,getMarkdownImage:Ve});class Oe extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}set data(e){const{key:t,title:s}=e,i=Ve(t);this.imageData=i,this.imageTitle=s,this.render()}getIconComponent(){if(!this.imageData)return v``;const{src:e,color:t,width:s="100%",height:i="100%"}=this.imageData;return v`
      <devtools-icon .data=${{iconPath:e,color:t,width:s,height:i}}></devtools-icon>
    `}getImageComponent(){if(!this.imageData)return v``;const{src:e,width:t="100%",height:s="100%"}=this.imageData;return v`
      <style>
        .markdown-image {
          display: block;
        }
      </style>
      <img class="markdown-image" src=${e} alt=${this.imageTitle} width=${t} height=${s}/>
    `}render(){if(!this.imageData)return;const{isIcon:e}=this.imageData,t=e?this.getIconComponent():this.getImageComponent();k(t,this.shadow)}}customElements.define("devtools-markdown-image",Oe);var qe=Object.freeze({__proto__:null,MarkdownImage:Oe});const Fe=new Map([]),Pe=e=>{const t=Fe.get(e);if(!t)throw new Error(`Markdown link with key '${e}' is not available, please check MarkdownLinksMap.ts`);return t};var Ne=Object.freeze({__proto__:null,markdownLinks:Fe,getMarkdownLink:Pe});class Be extends HTMLElement{constructor(){super(...arguments),this.shadow=this.attachShadow({mode:"open"}),this.linkText="",this.linkUrl=""}set data(e){const{key:t,title:s}=e,i=Pe(t);this.linkText=s,this.linkUrl=i,this.render()}render(){const e=v`
      <style>
        .devtools-link {
          color: var(--color-link);
          text-decoration: none;
        }

        .devtools-link:hover {
          text-decoration: underline;
        }
      </style>
      <a class="devtools-link" href=${this.linkUrl} target="_blank">${this.linkText}</a>
    `;k(e,this.shadow)}}customElements.define("devtools-markdown-link",Be);var $e=Object.freeze({__proto__:null,MarkdownLink:Be});export{H as CSPViolationsView,G as IssueAggregator,K as IssueRevealer,ee as IssueSurveyLink,Ae as IssuesPane,qe as MarkdownImage,De as MarkdownImagesMap,fe as MarkdownIssueDescription,$e as MarkdownLink,Ne as MarkdownLinksMap,de as MarkdownView};
