import{StringUtilities as e,ls as t,UIString as s}from"../platform/platform.js";export{UIString}from"../platform/platform.js";import{Runtime as r}from"../root/root.js";var i=Object.freeze({__proto__:null,App:class{presentUI(e){}}});var n=Object.freeze({__proto__:null,AppProvider:class{createApp(){throw new Error("not implemented")}}});const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(123);for(let e=0;e<o.length;++e)a[o.charCodeAt(e)]=e;var l=Object.freeze({__proto__:null,decode:function(e){let t=3*e.length/4>>>0;61===e.charCodeAt(e.length-2)?t-=2:61===e.charCodeAt(e.length-1)&&(t-=1);const s=new Uint8Array(t);for(let t=0,r=0;t<e.length;t+=4){const i=a[e.charCodeAt(t+0)],n=a[e.charCodeAt(t+1)],o=a[e.charCodeAt(t+2)],l=a[e.charCodeAt(t+3)];s[r++]=i<<2|n>>4,s[r++]=(15&n)<<4|o>>2,s[r++]=(3&o)<<6|63&l}return s.buffer}});var h=Object.freeze({__proto__:null,CharacterIdMap:class{constructor(){this._elementToCharacter=new Map,this._characterToElement=new Map,this._charCode=33}toChar(e){let t=this._elementToCharacter.get(e);if(!t){if(this._charCode>=65535)throw new Error("CharacterIdMap ran out of capacity!");t=String.fromCharCode(this._charCode++),this._elementToCharacter.set(e,t),this._characterToElement.set(t,e)}return t}fromChar(e){const t=this._characterToElement.get(e);return void 0===t?null:t}}});function c(e,t){const s=e[3];return[(1-s)*t[0]+s*e[0],(1-s)*t[1]+s*e[1],(1-s)*t[2]+s*e[2],s+t[3]*(1-s)]}function u([e,t,s,r]){const i=Math.max(e,t,s),n=Math.min(e,t,s),o=i-n,a=i+n;let l;l=n===i?0:e===i?(1/6*(t-s)/o+1)%1:t===i?1/6*(s-e)/o+1/3:1/6*(e-t)/o+2/3;const h=.5*a;let c;return c=0===h||1===h?0:h<=.5?o/a:o/(2-a),[l,c,h,r]}function g([e,t,s]){return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))}function d([e,t,s]){return.2126*Math.pow(e,2.218)+.7152*Math.pow(t,2.218)+.0722*Math.pow(s,2.218)}function p(e,t){return t>=e?(e=e>.02?e:e+Math.pow(Math.abs(e-.02),1.33),161.8*(Math.pow(t,.38)-Math.pow(e,.43))):(t=t>.02?t:t+Math.pow(Math.abs(t-.02),1.33),161.8*(Math.pow(t,.5)-Math.pow(e,.43)))}function _(e,t,s){function r(){return s?(e=e>.02?e:e+Math.pow(Math.abs(e-.02),1.33),Math.pow(t/161.8+Math.pow(e,.5),1/.43)):Math.pow(Math.pow(e,.38)-t/161.8,1/.43)}let i=r();return(i<0||i>1)&&(s=!s,i=r()),i}const m=[[12,-1,-1,-1,120,100,90,80,80,80],[14,-1,-1,-1,100,90,80,75,75,75],[16,-1,-1,120,90,80,75,70,70,70],[18,-1,-1,110,80,75,70,67,65,65],[20,-1,-1,100,78,72,67,65,60,60],[22,-1,-1,90,77,71,65,62,57,57],[24,-1,120,80,75,70,65,60,55,55],[26,-1,110,79,72,67,62,59,54,54],[28,-1,100,77,70,65,60,57,53,53],[32,-1,90,76,67,62,57,53,50,48],[36,120,80,75,65,60,55,50,48,48],[42,110,77,73,62,57,52,48,46,42],[48,100,75,70,60,55,50,45,42,40],[60,90,73,65,57,52,46,42,40,40],[72,70,60,55,50,45,40,40,40,40],[96,80,60,55,50,45,40,40,40,40],[120,60,55,50,47,43,40,40,40,40]];function f(e,t){const s=72*parseFloat(e.replace("px",""))/96;return-1!==["bold","bolder","600","700","800","900"].indexOf(t)?s>=14:s>=18}m.reverse();const S={aa:3,aaa:4.5},w={aa:4.5,aaa:7};var b=Object.freeze({__proto__:null,blendColors:c,rgbaToHsla:u,luminance:g,contrastRatio:function(e,t){const s=g(c(e,t)),r=g(t);return(Math.max(s,r)+.05)/(Math.min(s,r)+.05)},luminanceAPCA:d,contrastRatioAPCA:function(e,t){return p(d(e),d(t))},contrastRatioByLuminanceAPCA:p,desiredLuminanceAPCA:_,getAPCAThreshold:function(e,t){const s=parseFloat(e.replace("px","")),r=parseFloat(t);for(const[e,...t]of m)if(s>=e)for(const[e,s]of[900,800,700,600,500,400,300,200,100].entries())if(r>=s){const s=t[t.length-1-e];return-1===s?null:s}return null},isLargeFont:f,getContrastThreshold:function(e,t){return f(e,t)?S:w}});let y;class v{constructor(e,t,s){this._hsla=void 0,this._rgba=e,this._originalText=s||null,this._originalTextIsValid=Boolean(this._originalText),this._format=t,void 0===this._rgba[3]&&(this._rgba[3]=1);for(let e=0;e<4;++e)this._rgba[e]<0&&(this._rgba[e]=0,this._originalTextIsValid=!1),this._rgba[e]>1&&(this._rgba[e]=1,this._originalTextIsValid=!1)}static parse(e){let t=e.toLowerCase().replace(/\s+/g,"").match(/^(?:#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})|(\w+))$/i);if(t){if(t[1]){let s,r=t[1].toLowerCase();3===r.length?(s=x.ShortHEX,r=r.charAt(0)+r.charAt(0)+r.charAt(1)+r.charAt(1)+r.charAt(2)+r.charAt(2)):4===r.length?(s=x.ShortHEXA,r=r.charAt(0)+r.charAt(0)+r.charAt(1)+r.charAt(1)+r.charAt(2)+r.charAt(2)+r.charAt(3)+r.charAt(3)):s=6===r.length?x.HEX:x.HEXA;const i=parseInt(r.substring(0,2),16),n=parseInt(r.substring(2,4),16),o=parseInt(r.substring(4,6),16);let a=1;return 8===r.length&&(a=parseInt(r.substring(6,8),16)/255),new v([i/255,n/255,o/255,a],s,e)}if(t[2]){const s=t[2].toLowerCase();if(s in E){const t=E[s],r=v.fromRGBA(t);return r._format=x.Nickname,r._originalText=e,r}return null}return null}if(t=e.toLowerCase().match(/^\s*(?:(rgba?)|(hsla?))\((.*)\)\s*$/),t){const s=t[3].trim();let r=s.split(/\s*,\s*/);if(1===r.length)if(r=s.split(/\s+/),"/"===r[3]){if(r.splice(3,1),4!==r.length)return null}else if(r.length>2&&-1!==r[2].indexOf("/")||r.length>3&&-1!==r[3].indexOf("/")){const e=r.slice(2,4).join("");r=r.slice(0,2).concat(e.split(/\//)).concat(r.slice(4))}else if(r.length>=4)return null;if(3!==r.length&&4!==r.length||r.indexOf("")>-1)return null;const i=void 0!==r[3];if(t[1]){const t=[v._parseRgbNumeric(r[0]),v._parseRgbNumeric(r[1]),v._parseRgbNumeric(r[2]),i?v._parseAlphaNumeric(r[3]):1];return t.indexOf(null)>-1?null:new v(t,i?x.RGBA:x.RGB,e)}if(t[2]){const t=[v._parseHueNumeric(r[0]),v._parseSatLightNumeric(r[1]),v._parseSatLightNumeric(r[2]),i?v._parseAlphaNumeric(r[3]):1];if(t.indexOf(null)>-1)return null;const s=[];return v.hsl2rgb(t,s),new v(s,i?x.HSLA:x.HSL,e)}}return null}static fromRGBA(e){return new v([e[0]/255,e[1]/255,e[2]/255,e[3]],x.RGBA)}static fromHSVA(e){const t=[];return v.hsva2rgba(e,t),new v(t,x.HSLA)}static _parsePercentOrNumber(e){if(isNaN(e.replace("%","")))return null;const t=parseFloat(e);return-1!==e.indexOf("%")?e.indexOf("%")!==e.length-1?null:t/100:t}static _parseRgbNumeric(e){const t=v._parsePercentOrNumber(e);return null===t?null:-1!==e.indexOf("%")?t:t/255}static _parseHueNumeric(e){const t=e.replace(/(deg|g?rad|turn)$/,"");if(isNaN(t)||e.match(/\s+(deg|g?rad|turn)/))return null;const s=parseFloat(t);return-1!==e.indexOf("turn")?s%1:-1!==e.indexOf("grad")?s/400%1:-1!==e.indexOf("rad")?s/(2*Math.PI)%1:s/360%1}static _parseSatLightNumeric(e){if(e.indexOf("%")!==e.length-1||isNaN(e.replace("%","")))return null;const t=parseFloat(e);return Math.min(1,t/100)}static _parseAlphaNumeric(e){return v._parsePercentOrNumber(e)}static _hsva2hsla(e,t){const s=e[0];let r=e[1];const i=e[2],n=(2-r)*i;0===i||0===r?r=0:r*=i/(n<1?n:2-n),t[0]=s,t[1]=r,t[2]=n/2,t[3]=e[3]}static hsl2rgb(e,t){const s=e[0];let r=e[1];const i=e[2];function n(e,t,s){return s<0?s+=1:s>1&&(s-=1),6*s<1?e+(t-e)*s*6:2*s<1?t:3*s<2?e+(t-e)*(2/3-s)*6:e}let o;r<0&&(r=0),o=i<=.5?i*(1+r):i+r-i*r;const a=2*i-o,l=s+1/3,h=s,c=s-1/3;t[0]=n(a,o,l),t[1]=n(a,o,h),t[2]=n(a,o,c),t[3]=e[3]}static hsva2rgba(e,t){v._hsva2hsla(e,k),v.hsl2rgb(k,t);for(let e=0;e<k.length;e++)k[e]=0}static desiredLuminance(e,t,s){function r(){return s?(e+.05)*t-.05:(e+.05)/t-.05}let i=r();return(i<0||i>1)&&(s=!s,i=r()),i}static approachColorValue(e,t,s,r,i){let n=e[s],o=1,a=i(e)-r,l=Math.sign(a);for(let t=100;t;t--){if(Math.abs(a)<2e-4)return e[s]=n,n;const t=Math.sign(a);if(t!==l)o/=2,l=t;else if(n<0||n>1)return null;n+=o*(2===s?-a:a),e[s]=n,a=i(e)-r}return console.error("Loop exited unexpectedly"),null}static findFgColorForContrast(e,t,s){const r=e.hsva(),i=t.rgba(),n=e=>g(c(v.fromHSVA(e).rgba(),i)),o=g(t.rgba()),a=n(r)>o,l=v.desiredLuminance(o,s,a);return v.approachColorValue(r,i,2,l,n)?v.fromHSVA(r):(r[2]=1,v.approachColorValue(r,i,1,l,n)?v.fromHSVA(r):null)}static findFgColorForContrastAPCA(e,t,s){const r=e.hsva(),i=t.rgba(),n=e=>d(v.fromHSVA(e).rgba()),o=d(t.rgba()),a=_(o,s,n(r)>=o);return v.approachColorValue(r,i,2,a,n)?v.fromHSVA(r):(r[2]=1,v.approachColorValue(r,i,1,a,n)?v.fromHSVA(r):null)}format(){return this._format}hsla(){return this._hsla||(this._hsla=u(this._rgba)),this._hsla}canonicalHSLA(){const e=this.hsla();return[Math.round(360*e[0]),Math.round(100*e[1]),Math.round(100*e[2]),e[3]]}hsva(){const e=this.hsla(),t=e[0];let s=e[1];const r=e[2];return s*=r<.5?r:1-r,[t,0!==s?2*s/(r+s):0,r+s,e[3]]}hasAlpha(){return 1!==this._rgba[3]}detectHEXFormat(){let e=!0;for(let t=0;t<4;++t){if(Math.round(255*this._rgba[t])%17){e=!1;break}}const t=this.hasAlpha(),s=x;return e?t?s.ShortHEXA:s.ShortHEX:t?s.HEXA:s.HEX}asString(t){if(t===this._format&&this._originalTextIsValid)return this._originalText;function s(e){return Math.round(255*e)}function r(e){const t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t}function i(e){return(Math.round(255*e)/17).toString(16)}switch(t||(t=this._format),t){case x.Original:return this._originalText;case x.RGB:case x.RGBA:{const t=e.sprintf("rgb(%d %d %d",s(this._rgba[0]),s(this._rgba[1]),s(this._rgba[2]));return this.hasAlpha()?t+e.sprintf(" / %d%)",Math.round(100*this._rgba[3])):t+")"}case x.HSL:case x.HSLA:{const t=this.hsla(),s=e.sprintf("hsl(%ddeg %d% %d%",Math.round(360*t[0]),Math.round(100*t[1]),Math.round(100*t[2]));return this.hasAlpha()?s+e.sprintf(" / %d%)",Math.round(100*t[3])):s+")"}case x.HEXA:return e.sprintf("#%s%s%s%s",r(this._rgba[0]),r(this._rgba[1]),r(this._rgba[2]),r(this._rgba[3])).toLowerCase();case x.HEX:return this.hasAlpha()?null:e.sprintf("#%s%s%s",r(this._rgba[0]),r(this._rgba[1]),r(this._rgba[2])).toLowerCase();case x.ShortHEXA:{const t=this.detectHEXFormat();return t!==x.ShortHEXA&&t!==x.ShortHEX?null:e.sprintf("#%s%s%s%s",i(this._rgba[0]),i(this._rgba[1]),i(this._rgba[2]),i(this._rgba[3])).toLowerCase()}case x.ShortHEX:return this.hasAlpha()||this.detectHEXFormat()!==x.ShortHEX?null:e.sprintf("#%s%s%s",i(this._rgba[0]),i(this._rgba[1]),i(this._rgba[2])).toLowerCase();case x.Nickname:return this.nickname()}return this._originalText}rgba(){return this._rgba.slice()}canonicalRGBA(){const e=new Array(4);for(let t=0;t<3;++t)e[t]=Math.round(255*this._rgba[t]);return e[3]=this._rgba[3],e}nickname(){if(!y){y=new Map;for(const e in E){let t=E[e];4!==t.length&&(t=t.concat(1)),y.set(String(t),e)}}return y.get(String(this.canonicalRGBA()))||null}toProtocolRGBA(){const e=this.canonicalRGBA(),t={r:e[0],g:e[1],b:e[2],a:void 0};return 1!==e[3]&&(t.a=e[3]),t}invert(){const e=[];return e[0]=1-this._rgba[0],e[1]=1-this._rgba[1],e[2]=1-this._rgba[2],e[3]=this._rgba[3],new v(e,x.RGBA)}setAlpha(e){const t=this._rgba.slice();return t[3]=e,new v(t,x.RGBA)}blendWith(e){const t=c(e._rgba,this._rgba);return new v(t,x.RGBA)}setFormat(e){this._format=e}}const x={Original:"original",Nickname:"nickname",HEX:"hex",ShortHEX:"shorthex",HEXA:"hexa",ShortHEXA:"shorthexa",RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla"},E={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[237,20,61],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgreen:[144,238,144],lightgray:[211,211,211],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},A=[127,32,210],R={Content:v.fromRGBA([111,168,220,.66]),ContentLight:v.fromRGBA([111,168,220,.5]),ContentOutline:v.fromRGBA([9,83,148]),Padding:v.fromRGBA([147,196,125,.55]),PaddingLight:v.fromRGBA([147,196,125,.4]),Border:v.fromRGBA([255,229,153,.66]),BorderLight:v.fromRGBA([255,229,153,.5]),Margin:v.fromRGBA([246,178,107,.66]),MarginLight:v.fromRGBA([246,178,107,.5]),EventTarget:v.fromRGBA([255,196,196,.66]),Shape:v.fromRGBA([96,82,177,.8]),ShapeMargin:v.fromRGBA([96,82,127,.6]),CssGrid:v.fromRGBA([75,0,130,1]),LayoutLine:v.fromRGBA([...A,1]),GridBorder:v.fromRGBA([...A,1]),GapBackground:v.fromRGBA([...A,.3]),GapHatch:v.fromRGBA([...A,.8]),GridAreaBorder:v.fromRGBA([26,115,232,1])},T={ParentOutline:v.fromRGBA([224,90,183,1]),ChildOutline:v.fromRGBA([0,120,212,1])};const k=[0,0,0,0];var O=Object.freeze({__proto__:null,Color:v,Regex:/((?:rgb|hsl)a?\([^)]+\)|#[0-9a-fA-F]{8}|#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3,4}|\b[a-zA-Z]+\b(?!-))/g,Format:x,Nicknames:E,PageHighlight:R,SourceOrderHighlight:T,Generator:class{constructor(e,t,s,r){this._hueSpace=e||{min:0,max:360,count:void 0},this._satSpace=t||67,this._lightnessSpace=s||80,this._alphaSpace=r||1,this._colors=new Map}setColorForID(e,t){this._colors.set(e,t)}colorForID(e){let t=this._colors.get(e);return t||(t=this._generateColorForID(e),this._colors.set(e,t)),t}_generateColorForID(t){const s=e.hashCode(t),r=this._indexToValueInSpace(s,this._hueSpace),i=this._indexToValueInSpace(s>>8,this._satSpace),n=this._indexToValueInSpace(s>>16,this._lightnessSpace),o=this._indexToValueInSpace(s>>24,this._alphaSpace),a=`hsl(${r}deg ${i}% ${n}%`;return 1!==o?`${a} / ${Math.floor(100*o)}%)`:a+")"}_indexToValueInSpace(e,t){if("number"==typeof t)return t;const s=t.count||t.max-t.min;return e%=s,t.min+Math.floor(e/(s-1)*(t.max-t.min))}}});class C{constructor(){this._listeners}addEventListener(e,t,s){t||console.assert(!1),this._listeners||(this._listeners=new Map),this._listeners.has(e)||this._listeners.set(e,[]);const r=this._listeners.get(e);return r&&r.push({thisObject:s,listener:t,disposed:void 0}),{eventTarget:this,eventType:e,thisObject:s,listener:t}}once(e){return new Promise((t=>{const s=this.addEventListener(e,(r=>{this.removeEventListener(e,s.listener),t(r.data)}))}))}removeEventListener(e,t,s){if(console.assert(Boolean(t)),!this._listeners||!this._listeners.has(e))return;const r=this._listeners.get(e)||[];for(let e=0;e<r.length;++e)r[e].listener===t&&r[e].thisObject===s&&(r[e].disposed=!0,r.splice(e--,1));r.length||this._listeners.delete(e)}hasEventListeners(e){return Boolean(this._listeners&&this._listeners.has(e))}dispatchEventToListeners(e,t){if(!this._listeners||!this._listeners.has(e))return;const s={data:t},r=this._listeners.get(e).slice(0)||[];for(let e=0;e<r.length;++e)r[e].disposed||r[e].listener.call(r[e].thisObject,s)}}var P=Object.freeze({__proto__:null,ObjectWrapper:C});class L{reveal(e,t){throw new Error("not implemented")}}let M=function(e,t){return e?r.Runtime.instance().allInstances(L,e).then((s=>function(s){const r=[];for(let i=0;i<s.length;++i)r.push(s[i].reveal(e,t));return Promise.race(r)}(s))):Promise.reject(new Error("Can't reveal "+e))};var V=Object.freeze({__proto__:null,Revealer:L,get reveal(){return M},setRevealForTest:function(e){M=e},revealDestination:function(e){const t=r.Runtime.instance().extension(L,e);return t?t.descriptor().destination:null}});let N;class F extends C{constructor(){super(),this._messages=[]}static instance({forceNew:e}={forceNew:!1}){return N&&!e||(N=new F),N}addMessage(e,t,s){const r=new W(e,t||j.Info,Date.now(),s||!1);this._messages.push(r),this.dispatchEventToListeners(I.MessageAdded,r)}log(e){this.addMessage(e,j.Info)}warn(e){this.addMessage(e,j.Warning)}error(e){this.addMessage(e,j.Error,!0)}messages(){return this._messages}show(){this.showPromise()}showPromise(){return M(this)}}const I={MessageAdded:Symbol("messageAdded")},j={Info:"info",Warning:"warning",Error:"error"};class W{constructor(e,t,s,r){this.text=e,this.level=t,this.timestamp="number"==typeof s?s:Date.now(),this.show=r}}var B=Object.freeze({__proto__:null,Console:F,Events:I,MessageLevel:j,Message:W});var H=Object.freeze({__proto__:null,debounce:function(e,t){let s=0;return()=>{clearTimeout(s),s=setTimeout((()=>e()),t)}}});function D(e){for(const t of e)t.eventTarget.removeEventListener(t.eventType,t.listener,t.thisObject);e.splice(0)}class G{addEventListener(e,t,s){throw new Error("not implemented")}once(e){throw new Error("not implemented")}removeEventListener(e,t,s){throw new Error("not implemented")}hasEventListeners(e){throw new Error("not implemented")}dispatchEventToListeners(e,t){}}G.removeEventListeners=D;var z=Object.freeze({__proto__:null,EventDescriptor:undefined,removeEventListeners:D,EventTarget:G,fireEvent:function(e,t={},s=window){const r=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});s.dispatchEvent(r)},EventTargetEvent:undefined});var U=Object.freeze({__proto__:null,JavaScriptMetaData:class{signaturesForNativeFunction(e){throw new Error("not implemented")}signaturesForInstanceMethod(e,t){throw new Error("not implemented")}signaturesForStaticMethod(e,t){throw new Error("not implemented")}}});const X=Symbol("uninitialized"),q=Symbol("error");var $=Object.freeze({__proto__:null,lazy:function(e){let t=X,s=null;return()=>{if(t===q)throw s;if(t!==X)return t;try{return t=e(),t}catch(e){throw s=e,t=q,s}}}});class J{linkify(e,t){throw new Error("linkify not implemented")}static linkify(e,t){return e?r.Runtime.instance().extension(J,e).instance().then((s=>s.linkify(e,t))):Promise.reject(new Error("Can't linkify "+e))}}var Z=Object.freeze({__proto__:null,Linkifier:J,Options:undefined});class Y{constructor(e){this.isValid=!1,this.url=e,this.scheme="",this.user="",this.host="",this.port="",this.path="",this.queryParams="",this.fragment="",this.folderPathComponents="",this.lastPathComponent="";const t=this.url.startsWith("blob:"),s=(t?e.substring(5):e).match(Y._urlRegex());if(s)this.isValid=!0,t?(this._blobInnerScheme=s[2].toLowerCase(),this.scheme="blob"):this.scheme=s[2].toLowerCase(),this.user=s[3],this.host=s[4],this.port=s[5],this.path=s[6]||"/",this.queryParams=s[7]||"",this.fragment=s[8];else{if(this.url.startsWith("data:"))return void(this.scheme="data");if(this.url.startsWith("blob:"))return void(this.scheme="blob");if("about:blank"===this.url)return void(this.scheme="about");this.path=this.url}const r=this.path.lastIndexOf("/");-1!==r?(this.folderPathComponents=this.path.substring(0,r),this.lastPathComponent=this.path.substring(r+1)):this.lastPathComponent=this.path}static fromString(e){const t=new Y(e.toString());return t.isValid?t:null}static platformPathToURL(e){return(e=e.replace(/\\/g,"/")).startsWith("file://")||(e=e.startsWith("/")?"file://"+e:"file:///"+e),e}static urlToPlatformPath(e,t){return console.assert(e.startsWith("file://"),"This must be a file URL."),t?e.substr("file:///".length).replace(/\//g,"\\"):e.substr("file://".length)}static urlWithoutHash(e){const t=e.indexOf("#");return-1!==t?e.substr(0,t):e}static _urlRegex(){if(Y._urlRegexInstance)return Y._urlRegexInstance;return Y._urlRegexInstance=new RegExp("^("+/([A-Za-z][A-Za-z0-9+.-]*):\/\//.source+/(?:([A-Za-z0-9\-._~%!$&'()*+,;=:]*)@)?/.source+/((?:\[::\d?\])|(?:[^\s\/:]*))/.source+/(?::([\d]+))?/.source+")"+/(\/[^#?]*)?/.source+/(?:\?([^#]*))?/.source+/(?:#(.*))?/.source+"$"),Y._urlRegexInstance}static extractPath(e){const t=this.fromString(e);return t?t.path:""}static extractOrigin(e){const t=this.fromString(e);return t?t.securityOrigin():""}static extractExtension(e){const t=(e=Y.urlWithoutHash(e)).indexOf("?");-1!==t&&(e=e.substr(0,t));const s=e.lastIndexOf("/");-1!==s&&(e=e.substr(s+1));const r=e.lastIndexOf(".");if(-1!==r){const t=(e=e.substr(r+1)).indexOf("%");return-1!==t?e.substr(0,t):e}return""}static extractName(e){let t=e.lastIndexOf("/");const s=-1!==t?e.substr(t+1):e;return t=s.indexOf("?"),t<0?s:s.substr(0,t)}static completeURL(e,t){const s=t.trim();if(s.startsWith("data:")||s.startsWith("blob:")||s.startsWith("javascript:")||s.startsWith("mailto:"))return t;const i=this.fromString(s);if(i&&i.scheme)return s;const n=this.fromString(e);if(!n)return null;if(n.isDataURL())return t;if(t.length>1&&"/"===t.charAt(0)&&"/"===t.charAt(1))return n.scheme+":"+t;const o=n.securityOrigin(),a=n.path,l=n.queryParams?"?"+n.queryParams:"";if(!t.length)return o+a+l;if("#"===t.charAt(0))return o+a+l+t;if("?"===t.charAt(0))return o+a+t;const h=t.match(/^[^#?]*/);if(!h||!t.length)throw new Error("Invalid href");let c=h[0];const u=t.substring(c.length);return"/"!==c.charAt(0)&&(c=n.folderPathComponents+"/"+c),o+r.Runtime.normalizePath(c)+u}static splitLineAndColumn(e){const t=e.match(Y._urlRegex());let s="",r=e;t&&(s=t[1],r=e.substring(t[1].length));const i=/(?::(\d+))?(?::(\d+))?$/.exec(r);let n,o;return console.assert(Boolean(i)),i?("string"==typeof i[1]&&(n=parseInt(i[1],10),n=isNaN(n)?void 0:n-1),"string"==typeof i[2]&&(o=parseInt(i[2],10),o=isNaN(o)?void 0:o-1),{url:s+r.substring(0,r.length-i[0].length),lineNumber:n,columnNumber:o}):{url:e,lineNumber:0,columnNumber:0}}static removeWasmFunctionInfoFromURL(e){const t=e.search(/:wasm-function\[\d+\]/);return-1===t?e:e.substring(0,t)}static isRelativeURL(e){return!/^[A-Za-z][A-Za-z0-9+.-]*:/.test(e)}get displayName(){return this._displayName?this._displayName:this.isDataURL()?this.dataURLDisplayName():this.isBlobURL()||this.isAboutBlank()?this.url:(this._displayName=this.lastPathComponent,this._displayName||(this._displayName=(this.host||"")+"/"),"/"===this._displayName&&(this._displayName=this.url),this._displayName)}dataURLDisplayName(){return this._dataURLDisplayName?this._dataURLDisplayName:this.isDataURL()?(this._dataURLDisplayName=this.url.trimEndWithMaxLength(20),this._dataURLDisplayName):""}isAboutBlank(){return"about:blank"===this.url}isDataURL(){return"data"===this.scheme}isHttpOrHttps(){return"http"===this.scheme||"https"===this.scheme}isBlobURL(){return this.url.startsWith("blob:")}lastPathComponentWithFragment(){return this.lastPathComponent+(this.fragment?"#"+this.fragment:"")}domain(){return this.isDataURL()?"data:":this.host+(this.port?":"+this.port:"")}securityOrigin(){if(this.isDataURL())return"data:";return(this.isBlobURL()?this._blobInnerScheme:this.scheme)+"://"+this.domain()}urlWithoutScheme(){return this.scheme&&this.url.startsWith(this.scheme+"://")?this.url.substring(this.scheme.length+3):this.url}}Y._urlRegexInstance=null;var Q=Object.freeze({__proto__:null,ParsedURL:Y});class K{constructor(e,t){this._composite=e,this._weight=t||1,this._worked=0,this._totalWork=0}isCanceled(){return this._composite._parent.isCanceled()}setTitle(e){this._composite._parent.setTitle(e)}done(){this.setWorked(this._totalWork),this._composite._childDone()}setTotalWork(e){this._totalWork=e,this._composite._update()}setWorked(e,t){this._worked=e,void 0!==t&&this.setTitle(t),this._composite._update()}worked(e){this.setWorked(this._worked+(e||1))}}var ee=Object.freeze({__proto__:null,Progress:class{setTotalWork(e){}setTitle(e){}setWorked(e,t){}worked(e){}done(){}isCanceled(){return!1}},CompositeProgress:class{constructor(e){this._parent=e,this._children=[],this._childrenDone=0,this._parent.setTotalWork(1),this._parent.setWorked(0)}_childDone(){++this._childrenDone===this._children.length&&this._parent.done()}createSubProgress(e){const t=new K(this,e);return this._children.push(t),t}_update(){let e=0,t=0;for(let s=0;s<this._children.length;++s){const r=this._children[s];r._totalWork&&(t+=r._weight*r._worked/r._totalWork),e+=r._weight}this._parent.setWorked(t/e)}},SubProgress:K,ProgressProxy:class{constructor(e,t){this._delegate=e,this._doneCallback=t}isCanceled(){return!!this._delegate&&this._delegate.isCanceled()}setTitle(e){this._delegate&&this._delegate.setTitle(e)}done(){this._delegate&&this._delegate.done(),this._doneCallback&&this._doneCallback()}setTotalWork(e){this._delegate&&this._delegate.setTotalWork(e)}setWorked(e,t){this._delegate&&this._delegate.setWorked(e,t)}worked(e){this._delegate&&this._delegate.worked(e)}}});var te=Object.freeze({__proto__:null,QueryParamHandler:class{handleQueryParam(e){}}});class se{constructor(e,t,s,r){this._name=e,this._title=t,this._category=s,this._isTextType=r}static fromMimeType(e){return e?e.startsWith("text/html")?ne.Document:e.startsWith("text/css")?ne.Stylesheet:e.startsWith("image/")?ne.Image:e.startsWith("text/")?ne.Script:e.includes("font")?ne.Font:e.includes("script")?ne.Script:e.includes("octet")?ne.Other:e.includes("application")?ne.Script:ne.Other:ne.Other}static fromURL(e){return ae.get(Y.extractExtension(e))||null}static fromName(e){for(const t in ne){const s=ne[t];if(s.name()===e)return s}return null}static mimeFromURL(e){const t=Y.extractName(e);if(oe.has(t))return oe.get(t);const s=Y.extractExtension(e).toLowerCase();return le.get(s)}static mimeFromExtension(e){return le.get(e)}name(){return this._name}title(){return this._title}category(){return this._category}isTextType(){return this._isTextType}isScript(){return"script"===this._name||"sm-script"===this._name}hasScripts(){return this.isScript()||this.isDocument()}isStyleSheet(){return"stylesheet"===this._name||"sm-stylesheet"===this._name}isDocument(){return"document"===this._name}isDocumentOrScriptOrStyleSheet(){return this.isDocument()||this.isScript()||this.isStyleSheet()}isImage(){return"image"===this._name}isFromSourceMap(){return this._name.startsWith("sm-")}toString(){return this._name}canonicalMimeType(){return this.isDocument()?"text/html":this.isScript()?"text/javascript":this.isStyleSheet()?"text/css":""}}class re{constructor(e,t){this.title=e,this.shortTitle=t}}const ie={XHR:new re(t`XHR and Fetch`,t`XHR`),Script:new re(t`Scripts`,t`JS`),Stylesheet:new re(t`Stylesheets`,t`CSS`),Image:new re(t`Images`,t`Img`),Media:new re(t`Media`,t`Media`),Font:new re(t`Fonts`,t`Font`),Document:new re(t`Documents`,t`Doc`),WebSocket:new re(t`WebSockets`,t`WS`),Manifest:new re(t`Manifest`,t`Manifest`),Other:new re(t`Other`,t`Other`)},ne={Document:new se("document",t`Document`,ie.Document,!0),Stylesheet:new se("stylesheet",t`Stylesheet`,ie.Stylesheet,!0),Image:new se("image",t`Image`,ie.Image,!1),Media:new se("media",t`Media`,ie.Media,!1),Font:new se("font",t`Font`,ie.Font,!1),Script:new se("script",t`Script`,ie.Script,!0),TextTrack:new se("texttrack",t`TextTrack`,ie.Other,!0),XHR:new se("xhr",t`XHR`,ie.XHR,!0),Fetch:new se("fetch",t`Fetch`,ie.XHR,!0),EventSource:new se("eventsource",t`EventSource`,ie.XHR,!0),WebSocket:new se("websocket",t`WebSocket`,ie.WebSocket,!1),WebTransport:new se("webtransport",t`WebTransport`,ie.WebSocket,!1),Manifest:new se("manifest",t`Manifest`,ie.Manifest,!0),SignedExchange:new se("signed-exchange",t`SignedExchange`,ie.Other,!1),Ping:new se("ping",t`Ping`,ie.Other,!1),CSPViolationReport:new se("csp-violation-report",t`CSPViolationReport`,ie.Other,!1),Other:new se("other",t`Other`,ie.Other,!1),Preflight:new se("preflight",t`Preflight`,ie.Other,!0),SourceMapScript:new se("sm-script",t`Script`,ie.Script,!0),SourceMapStyleSheet:new se("sm-stylesheet",t`Stylesheet`,ie.Stylesheet,!0)},oe=new Map([["Cakefile","text/x-coffeescript"]]),ae=new Map([["js",ne.Script],["mjs",ne.Script],["css",ne.Stylesheet],["xsl",ne.Stylesheet],["jpeg",ne.Image],["jpg",ne.Image],["svg",ne.Image],["gif",ne.Image],["png",ne.Image],["ico",ne.Image],["tiff",ne.Image],["tif",ne.Image],["bmp",ne.Image],["webp",ne.Media],["ttf",ne.Font],["otf",ne.Font],["ttc",ne.Font],["woff",ne.Font]]),le=new Map([["js","text/javascript"],["mjs","text/javascript"],["css","text/css"],["html","text/html"],["htm","text/html"],["xml","application/xml"],["xsl","application/xml"],["asp","application/x-aspx"],["aspx","application/x-aspx"],["jsp","application/x-jsp"],["c","text/x-c++src"],["cc","text/x-c++src"],["cpp","text/x-c++src"],["h","text/x-c++src"],["m","text/x-c++src"],["mm","text/x-c++src"],["coffee","text/x-coffeescript"],["dart","text/javascript"],["ts","text/typescript"],["tsx","text/typescript-jsx"],["json","application/json"],["gyp","application/json"],["gypi","application/json"],["cs","text/x-csharp"],["java","text/x-java"],["less","text/x-less"],["php","text/x-php"],["phtml","application/x-httpd-php"],["py","text/x-python"],["sh","text/x-sh"],["scss","text/x-scss"],["vtt","text/vtt"],["ls","text/x-livescript"],["md","text/markdown"],["cljs","text/x-clojure"],["cljc","text/x-clojure"],["cljx","text/x-clojure"],["styl","text/x-styl"],["jsx","text/jsx"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["svg","image/svg+xml"],["gif","image/gif"],["webp","image/webp"],["png","image/png"],["ico","image/ico"],["tiff","image/tiff"],["tif","image/tif"],["bmp","image/bmp"],["ttf","font/opentype"],["otf","font/opentype"],["ttc","font/opentype"],["woff","application/font-woff"]]);var he=Object.freeze({__proto__:null,ResourceType:se,ResourceCategory:re,resourceCategories:ie,resourceTypes:ne,_mimeTypeByName:oe,_resourceTypeByExtension:ae,_mimeTypeByExtension:le});var ce=Object.freeze({__proto__:null,Runnable:class{run(){throw new Error("not implemented")}}});class ue{constructor(e,t,s){if(e>t)throw new Error("Invalid segment");this.begin=e,this.end=t,this.data=s}intersects(e){return this.begin<e.end&&e.begin<this.end}}var ge=Object.freeze({__proto__:null,Segment:ue,SegmentedRange:class{constructor(e){this._segments=[],this._mergeCallback=e}append(e){let t=this._segments.lowerBound(e,((e,t)=>e.begin-t.begin)),s=t,r=null;if(t>0){const s=this._segments[t-1];r=this._tryMerge(s,e),r?(--t,e=r):this._segments[t-1].end>=e.begin&&(e.end<s.end&&this._segments.splice(t,0,new ue(e.end,s.end,s.data)),s.end=e.begin)}for(;s<this._segments.length&&this._segments[s].end<=e.end;)++s;s<this._segments.length&&(r=this._tryMerge(e,this._segments[s]),r?(s++,e=r):e.intersects(this._segments[s])&&(this._segments[s].begin=e.end)),this._segments.splice(t,s-t,e)}appendRange(e){e.segments().forEach((e=>this.append(e)))}segments(){return this._segments}_tryMerge(e,t){const s=this._mergeCallback&&this._mergeCallback(e,t);return s?(s.begin=e.begin,s.end=Math.max(e.end,t.end),s):null}}});const de=[],pe=new Set;function _e(){return de.filter((e=>r.Runtime.isDescriptorEnabled({experiment:e.experiment,condition:e.condition})))}const me={ELEMENTS:t`Elements`,APPEARANCE:t`Appearance`,SOURCES:t`Sources`,NETWORK:t`Network`,PERFORMANCE:t`Performance`,CONSOLE:t`Console`,PERSISTENCE:t`Persistence`,DEBUGGER:t`Debugger`,GLOBAL:t`Global`,RENDERING:t`Rendering`,GRID:t`Grid`,MOBILE:t`Mobile`,EMULATION:t`Emulation`,MEMORY:t`Memory`},fe={ARRAY:"array",REGEX:"regex",ENUM:"enum",BOOLEAN:"boolean"};let Se;class we{constructor(e,t){this._globalStorage=e,this._localStorage=t,this._sessionStorage=new be({}),this.settingNameSet=new Set,this.orderValuesBySettingCategory=new Map,this._eventSupport=new C,this._registry=new Map,this._moduleSettings=new Map;[...r.Runtime.instance().extensions("setting").map((e=>{const t=e.descriptor();let s;switch(t.storageType){case"local":s=Re.Local;break;case"session":s=Re.Session;break;case"global":s=Re.Global;break;default:s=Re.Global}const{settingName:i,defaultValue:n,userActionCondition:o}=t,a=t.settingType===fe.REGEX&&"string"==typeof n?this.createRegExpSetting(i,n,void 0,s):this.createSetting(i,n,s);return e.title()&&a.setTitle(e.title()),o&&a.setRequiresUserAction(Boolean(r.Runtime.queryParam(o))),a._extension=e,a})),..._e().map((e=>{const{settingName:t,defaultValue:s,storageType:i}=e,n=this.createPreRegisteredSetting(t,s,i);return e.titleMac?n.setTitle(e.titleMac()):n.setTitle(e.title&&e.title()),e.userActionCondition&&n.setRequiresUserAction(Boolean(r.Runtime.queryParam(e.userActionCondition))),n.setRegistration(e),n}))].forEach(this._registerModuleSetting.bind(this))}static hasInstance(){return void 0!==Se}static instance(e={forceNew:null,globalStorage:null,localStorage:null}){const{forceNew:t,globalStorage:s,localStorage:r}=e;if(!Se||t){if(!s||!r)throw new Error("Unable to create settings: global and local storage must be provided: "+(new Error).stack);Se=new we(s,r)}return Se}static removeInstance(){Se=void 0}_registerModuleSetting(e){const t=e.name,s=e.category(),r=e.order();if(this.settingNameSet.has(t))throw new Error(`Duplicate Setting name '${t}'`);if(s&&r){const e=this.orderValuesBySettingCategory.get(s)||new Set;if(e.has(r))throw new Error(`Duplicate order value '${r}' for settings category '${s}'`);e.add(r),this.orderValuesBySettingCategory.set(s,e)}this.settingNameSet.add(t),this._moduleSettings.set(e.name,e)}moduleSetting(e){const t=this._moduleSettings.get(e);if(!t)throw new Error("No setting registered: "+e);return t}settingForTest(e){const t=this._registry.get(e);if(!t)throw new Error("No setting registered: "+e);return t}createSetting(e,t,s){const r=this._storageFromType(s);let i=this._registry.get(e);return i||(i=new ve(this,e,t,this._eventSupport,r),this._registry.set(e,i)),i}createPreRegisteredSetting(e,t,s){const r=this._storageFromType(s);let i=this._registry.get(e);return i||(i=new xe(this,e,t,this._eventSupport,r),this._registry.set(e,i)),i}createLocalSetting(e,t){return this.createSetting(e,t,Re.Local)}createRegExpSetting(e,t,s,r){return this._registry.get(e)||this._registry.set(e,new Ee(this,e,t,this._eventSupport,this._storageFromType(r),s)),this._registry.get(e)}clearAll(){this._globalStorage.removeAll(),this._localStorage.removeAll();we.instance().createSetting(Ae._currentVersionName,0).set(Ae.currentVersion)}_storageFromType(e){switch(e){case Re.Local:return this._localStorage;case Re.Session:return this._sessionStorage;case Re.Global:return this._globalStorage}return this._globalStorage}}class be{constructor(e,t,s,r,i){this._object=e,this._setCallback=t||function(){},this._removeCallback=s||function(){},this._removeAllCallback=r||function(){},this._storagePrefix=i||""}set(e,t){e=this._storagePrefix+e,this._object[e]=t,this._setCallback(e,t)}has(e){return(e=this._storagePrefix+e)in this._object}get(e){return e=this._storagePrefix+e,this._object[e]}remove(e){e=this._storagePrefix+e,delete this._object[e],this._removeCallback(e)}removeAll(){this._object={},this._removeAllCallback()}_dumpSizes(){F.instance().log("Ten largest settings: ");const e={__proto__:null};for(const t in this._object)e[t]=this._object[t].length;const t=Object.keys(e);t.sort((function(t,s){return e[s]-e[t]}));for(let s=0;s<10&&s<t.length;++s)F.instance().log("Setting: '"+t[s]+"', size: "+e[t[s]])}}class ye{addChangeListener(e,t){throw new Error("not implemented")}removeChangeListener(e,t){throw new Error("not implemented")}get name(){throw new Error("not implemented")}title(){throw new Error("not implemented")}setTitle(e){throw new Error("not implemented")}setRequiresUserAction(e){throw new Error("not implemented")}get(){throw new Error("not implemented")}set(e){throw new Error("not implemented")}remove(){throw new Error("not implemented")}type(){throw new Error("not implemented")}options(){throw new Error("not implemented")}reloadRequired(){throw new Error("not implemented")}category(){throw new Error("not implemented")}tags(){throw new Error("not implemented")}order(){throw new Error("not implemented")}_printSettingsSavingError(e,t,s){throw new Error("not implemented")}}class ve extends ye{constructor(e,t,s,r,i){super(),this._settings=e,this._name=t,this._defaultValue=s,this._eventSupport=r,this._storage=i,this._title="",this._extension=null}addChangeListener(e,t){return this._eventSupport.addEventListener(this._name,e,t)}removeChangeListener(e,t){this._eventSupport.removeEventListener(this._name,e,t)}get name(){return this._name}title(){return t(this._title)}setTitle(e){e&&(this._title=e)}setRequiresUserAction(e){this._requiresUserAction=e}get(){if(this._requiresUserAction&&!this._hadUserAction)return this._defaultValue;if(void 0!==this._value)return this._value;if(this._value=this._defaultValue,this._storage.has(this._name))try{this._value=JSON.parse(this._storage.get(this._name))}catch(e){this._storage.remove(this._name)}return this._value}set(e){this._hadUserAction=!0,this._value=e;try{const t=JSON.stringify(e);try{this._storage.set(this._name,t)}catch(e){this._printSettingsSavingError(e.message,this._name,t)}}catch(e){F.instance().error("Cannot stringify setting with name: "+this._name+", error: "+e.message)}this._eventSupport.dispatchEventToListeners(this._name,e)}remove(){this._settings._registry.delete(this._name),this._settings._moduleSettings.delete(this._name),this._storage.remove(this._name)}type(){if(this._extension){switch(this._extension.descriptor().settingType){case"boolean":return fe.BOOLEAN;case"enum":return fe.ENUM;case"regex":return fe.REGEX;case"array":return fe.ARRAY;default:throw new Error("Invalid setting type")}}return null}options(){if(this._extension){const e=this._extension.descriptor().options;return e?e.map((e=>{let s;return e.text&&(s=e.raw?e.text:t(e.text)),{...e,text:s,title:t(e.title)}})):[]}return[]}reloadRequired(){return this._extension&&this._extension.descriptor().reloadRequired||null}category(){if(this._extension){const e=this._extension.descriptor().category;if(!e)return null;switch(e){case"Elements":return me.ELEMENTS;case"Appearance":return me.APPEARANCE;case"Sources":return me.SOURCES;case"Network":return me.NETWORK;case"Performance":return me.PERFORMANCE;case"Console":return me.CONSOLE;case"Persistence":return me.PERSISTENCE;case"Debugger":return me.DEBUGGER;case"Global":return me.GLOBAL;case"Rendering":return me.RENDERING;case"Grid":return me.GRID;case"Mobile":return me.MOBILE;case"Emulation":return me.EMULATION;case"Memory":return me.MEMORY;default:throw new Error("Invalid setting category "+e)}}return null}tags(){if(this._extension){const e=this._extension.descriptor().tags;if(!e)return null;const s=e.split(",");let r="";return s.forEach((e=>{r+=t(e.trim())+"\0"})),r}return null}order(){return this._extension&&this._extension.descriptor().order||null}_printSettingsSavingError(e,t,s){const r="Error saving setting with name: "+this._name+", value length: "+s.length+". Error: "+e;console.error(r),F.instance().error(r),this._storage._dumpSizes()}}class xe extends ye{constructor(e,t,s,r,i){super(),this._settings=e,this._name=t,this._defaultValue=s,this._eventSupport=r,this._storage=i,this._title="",this._registration=null}addChangeListener(e,t){return this._eventSupport.addEventListener(this._name,e,t)}removeChangeListener(e,t){this._eventSupport.removeEventListener(this._name,e,t)}get name(){return this._name}title(){return this._title}setTitle(e){e&&(this._title=e)}setRequiresUserAction(e){this._requiresUserAction=e}get(){if(this._requiresUserAction&&!this._hadUserAction)return this._defaultValue;if(void 0!==this._value)return this._value;if(this._value=this._defaultValue,this._storage.has(this._name))try{this._value=JSON.parse(this._storage.get(this._name))}catch(e){this._storage.remove(this._name)}return this._value}set(e){this._hadUserAction=!0,this._value=e;try{const t=JSON.stringify(e);try{this._storage.set(this._name,t)}catch(e){this._printSettingsSavingError(e.message,this._name,t)}}catch(e){F.instance().error("Cannot stringify setting with name: "+this._name+", error: "+e.message)}this._eventSupport.dispatchEventToListeners(this._name,e)}remove(){this._settings._registry.delete(this._name),this._settings._moduleSettings.delete(this._name),this._storage.remove(this._name)}setRegistration(e){this._registration=e}type(){return this._registration?this._registration.settingType:null}options(){return this._registration&&this._registration.options?this._registration.options.map((e=>{const{value:t,title:s,text:r,raw:i}=e;return{value:t,title:s(),text:"function"==typeof r?r():r,raw:i}})):[]}reloadRequired(){return this._registration&&this._registration.reloadRequired||null}category(){return this._registration&&this._registration.category||null}tags(){return this._registration&&this._registration.tags?this._registration.tags.map((e=>e())).join("\0"):null}order(){return this._registration&&this._registration.order||null}_printSettingsSavingError(e,t,s){const r="Error saving setting with name: "+this._name+", value length: "+s.length+". Error: "+e;console.error(r),F.instance().error(r),this._storage._dumpSizes()}}class Ee extends ve{constructor(e,t,s,r,i,n){super(e,t,s?[{pattern:s}]:[],r,i),this._regexFlags=n}get(){const e=[],t=this.getAsArray();for(let s=0;s<t.length;++s){const r=t[s];r.pattern&&!r.disabled&&e.push(r.pattern)}return e.join("|")}getAsArray(){return super.get()}set(e){this.setAsArray([{pattern:e,disabled:!1}])}setAsArray(e){delete this._regex,super.set(e)}asRegExp(){if(void 0!==this._regex)return this._regex;this._regex=null;try{const e=this.get();e&&(this._regex=new RegExp(e,this._regexFlags||""))}catch(e){}return this._regex}}class Ae{static get _currentVersionName(){return"inspectorVersion"}static get currentVersion(){return 30}updateVersion(){const e=window.localStorage?window.localStorage[Ae._currentVersionName]:0,t=we.instance().createSetting(Ae._currentVersionName,0),s=Ae.currentVersion,r=t.get()||parseInt(e||"0",10);if(0===r)return void t.set(s);const i=this._methodsToRunToUpdateVersion(r,s);for(const e of i)this[e].call(this);t.set(s)}_methodsToRunToUpdateVersion(e,t){const s=[];for(let r=e;r<t;++r)s.push("_updateVersionFrom"+r+"To"+(r+1));return s}_updateVersionFrom0To1(){this._clearBreakpointsWhenTooMany(we.instance().createLocalSetting("breakpoints",[]),5e5)}_updateVersionFrom1To2(){we.instance().createSetting("previouslyViewedFiles",[]).set([])}_updateVersionFrom2To3(){we.instance().createSetting("fileSystemMapping",{}).set({}),we.instance().createSetting("fileMappingEntries",[]).remove()}_updateVersionFrom3To4(){const e=we.instance().createSetting("showHeaSnapshotObjectsHiddenProperties",!1);Te("showAdvancedHeapSnapshotProperties").set(e.get()),e.remove()}_updateVersionFrom4To5(){const e={FileSystemViewSidebarWidth:"fileSystemViewSplitViewState",elementsSidebarWidth:"elementsPanelSplitViewState",StylesPaneSplitRatio:"stylesPaneSplitViewState",heapSnapshotRetainersViewSize:"heapSnapshotSplitViewState","InspectorView.splitView":"InspectorView.splitViewState","InspectorView.screencastSplitView":"InspectorView.screencastSplitViewState","Inspector.drawerSplitView":"Inspector.drawerSplitViewState",layerDetailsSplitView:"layerDetailsSplitViewState",networkSidebarWidth:"networkPanelSplitViewState",sourcesSidebarWidth:"sourcesPanelSplitViewState",scriptsPanelNavigatorSidebarWidth:"sourcesPanelNavigatorSplitViewState",sourcesPanelSplitSidebarRatio:"sourcesPanelDebuggerSidebarSplitViewState","timeline-details":"timelinePanelDetailsSplitViewState","timeline-split":"timelinePanelRecorsSplitViewState","timeline-view":"timelinePanelTimelineStackSplitViewState",auditsSidebarWidth:"auditsPanelSplitViewState",layersSidebarWidth:"layersPanelSplitViewState",profilesSidebarWidth:"profilesPanelSplitViewState",resourcesSidebarWidth:"resourcesPanelSplitViewState"},t={};for(const s in e){const r=e[s],i=s+"H";let n=null;const o=we.instance().createSetting(s,t);o.get()!==t&&(n=n||{},n.vertical={},n.vertical.size=o.get(),o.remove());const a=we.instance().createSetting(i,t);a.get()!==t&&(n=n||{},n.horizontal={},n.horizontal.size=a.get(),a.remove()),n&&we.instance().createSetting(r,{}).set(n)}}_updateVersionFrom5To6(){const e={debuggerSidebarHidden:"sourcesPanelSplitViewState",navigatorHidden:"sourcesPanelNavigatorSplitViewState","WebInspector.Drawer.showOnLoad":"Inspector.drawerSplitViewState"};for(const t in e){const s=we.instance().createSetting(t,null);if(null===s.get()){s.remove();continue}const r=e[t],i="WebInspector.Drawer.showOnLoad"===t,n=s.get()!==i;s.remove();const o=n?"OnlyMain":"Both",a=we.instance().createSetting(r,{}),l=a.get()||{};l.vertical=l.vertical||{},l.vertical.showMode=o,l.horizontal=l.horizontal||{},l.horizontal.showMode=o,a.set(l)}}_updateVersionFrom6To7(){const e={sourcesPanelNavigatorSplitViewState:"sourcesPanelNavigatorSplitViewState",elementsPanelSplitViewState:"elementsPanelSplitViewState",stylesPaneSplitViewState:"stylesPaneSplitViewState",sourcesPanelDebuggerSidebarSplitViewState:"sourcesPanelDebuggerSidebarSplitViewState"},t={};for(const s in e){const e=we.instance().createSetting(s,t),r=e.get();r!==t&&(r.vertical&&r.vertical.size&&r.vertical.size<1&&(r.vertical.size=0),r.horizontal&&r.horizontal.size&&r.horizontal.size<1&&(r.horizontal.size=0),e.set(r))}}_updateVersionFrom7To8(){}_updateVersionFrom8To9(){const e=["skipStackFramesPattern","workspaceFolderExcludePattern"];for(let t=0;t<e.length;++t){const s=we.instance().createSetting(e[t],"");let r=s.get();if(!r)return;"string"==typeof r&&(r=[r]);for(let e=0;e<r.length;++e)"string"==typeof r[e]&&(r[e]={pattern:r[e]});s.set(r)}}_updateVersionFrom9To10(){if(window.localStorage)for(const e in window.localStorage)e.startsWith("revision-history")&&window.localStorage.removeItem(e)}_updateVersionFrom10To11(){const e=we.instance().createSetting("customDevicePresets",void 0),t=e.get();if(!Array.isArray(t))return;const s=[];for(let e=0;e<t.length;++e){const r=t[e],i={};i.title=r.title,i.type="unknown",i["user-agent"]=r.userAgent,i.capabilities=[],r.touch&&i.capabilities.push("touch"),r.mobile&&i.capabilities.push("mobile"),i.screen={},i.screen.vertical={width:r.width,height:r.height},i.screen.horizontal={width:r.height,height:r.width},i.screen["device-pixel-ratio"]=r.deviceScaleFactor,i.modes=[],i["show-by-default"]=!0,i.show="Default",s.push(i)}s.length&&we.instance().createSetting("customEmulatedDeviceList",[]).set(s),e.remove()}_updateVersionFrom11To12(){this._migrateSettingsFromLocalStorage()}_updateVersionFrom12To13(){this._migrateSettingsFromLocalStorage(),we.instance().createSetting("timelineOverviewMode","").remove()}_updateVersionFrom13To14(){const e={throughput:-1,latency:0};we.instance().createSetting("networkConditions",e).set(e)}_updateVersionFrom14To15(){const e=we.instance().createLocalSetting("workspaceExcludedFolders",{}),t=e.get(),s={};for(const e in t){s[e]=[];for(const r of t[e])s[e].push(r.path)}e.set(s)}_updateVersionFrom15To16(){const e=we.instance().createSetting("InspectorView.panelOrder",{}),t=e.get();for(const e of Object.keys(t))t[e]=10*(t[e]+1);e.set(t)}_updateVersionFrom16To17(){const e=we.instance().createSetting("networkConditionsCustomProfiles",[]),t=e.get(),s=[];if(Array.isArray(t))for(const e of t)"string"==typeof e.title&&"object"==typeof e.value&&"number"==typeof e.value.throughput&&"number"==typeof e.value.latency&&s.push({title:e.title,value:{download:e.value.throughput,upload:e.value.throughput,latency:e.value.latency}});e.set(s)}_updateVersionFrom17To18(){const e=we.instance().createLocalSetting("workspaceExcludedFolders",{}),t=e.get(),s={};for(const e in t){let r=e.replace(/\\/g,"/");r.startsWith("file://")||(r=r.startsWith("/")?"file://"+r:"file:///"+r),s[r]=t[e]}e.set(s)}_updateVersionFrom18To19(){const e=we.instance().createSetting("networkLogColumnsVisibility",{status:!0,type:!0,initiator:!0,size:!0,time:!0}),t=e.get();t.name=!0,t.timeline=!0;const s={};for(const e in t)t.hasOwnProperty(e)&&(s[e.toLowerCase()]={visible:t[e]});we.instance().createSetting("networkLogColumns",{}).set(s),e.remove()}_updateVersionFrom19To20(){const e=we.instance().createSetting("InspectorView.panelOrder",{});we.instance().createSetting("panel-tabOrder",{}).set(e.get()),e.remove()}_updateVersionFrom20To21(){const e=we.instance().createSetting("networkLogColumns",{}),t=e.get();delete t.timeline,delete t.waterfall,e.set(t)}_updateVersionFrom21To22(){const e=we.instance().createLocalSetting("breakpoints",[]),t=e.get();for(const e of t)e.url=e.sourceFileId,delete e.sourceFileId;e.set(t)}_updateVersionFrom22To23(){}_updateVersionFrom23To24(){const e=we.instance().createSetting("searchInContentScripts",!1);we.instance().createSetting("searchInAnonymousAndContentScripts",!1).set(e.get()),e.remove()}_updateVersionFrom24To25(){const e=we.instance().createSetting("networkLogColumns",{status:!0,type:!0,initiator:!0,size:!0,time:!0}),t=e.get();delete t.product,e.set(t)}_updateVersionFrom25To26(){const e=we.instance().createSetting("messageURLFilters",{}),t=Object.keys(e.get()).map((e=>"-url:"+e)).join(" ");if(t){const e=we.instance().createSetting("console.textFilter",""),s=e.get()?" "+e.get():"";e.set(`${t}${s}`)}e.remove()}_updateVersionFrom26To27(){function e(e,t,s){const r=we.instance().createSetting(e,{}),i=r.get();t in i&&(i[s]=i[t],delete i[t],r.set(i))}e("panel-tabOrder","audits2","audits"),e("panel-closeableTabs","audits2","audits"),function(e,t,s){const r=we.instance().createSetting(e,"");r.get()===t&&r.set(s)}("panel-selectedTab","audits2","audits")}_updateVersionFrom27To28(){const e=we.instance().createSetting("uiTheme","systemPreferred");"default"===e.get()&&e.set("systemPreferred")}_updateVersionFrom28To29(){function e(e,t,s){const r=we.instance().createSetting(e,{}),i=r.get();t in i&&(i[s]=i[t],delete i[t],r.set(i))}e("panel-tabOrder","audits","lighthouse"),e("panel-closeableTabs","audits","lighthouse"),function(e,t,s){const r=we.instance().createSetting(e,"");r.get()===t&&r.set(s)}("panel-selectedTab","audits","lighthouse")}_updateVersionFrom29To30(){const e=we.instance().createSetting("closeableTabs",{}),t=we.instance().createSetting("panel-closeableTabs",{}),s=we.instance().createSetting("drawer-view-closeableTabs",{}),r=t.get(),i=t.get(),n=Object.assign(i,r);e.set(n),t.remove(),s.remove()}_migrateSettingsFromLocalStorage(){const e=new Set(["advancedSearchConfig","breakpoints","consoleHistory","domBreakpoints","eventListenerBreakpoints","fileSystemMapping","lastSelectedSourcesSidebarPaneTab","previouslyViewedFiles","savedURLs","watchExpressions","workspaceExcludedFolders","xhrBreakpoints"]);if(window.localStorage)for(const t in window.localStorage){if(e.has(t))continue;const s=window.localStorage[t];window.localStorage.removeItem(t),we.instance()._globalStorage.set(t,s)}}_clearBreakpointsWhenTooMany(e,t){e.get().length>t&&e.set([])}}const Re={Global:Symbol("Global"),Local:Symbol("Local"),Session:Symbol("Session")};function Te(e){return we.instance().moduleSetting(e)}var ke=Object.freeze({__proto__:null,Settings:we,SettingsStorage:be,Setting:ye,LegacySetting:ve,PreRegisteredSetting:xe,RegExpSetting:Ee,VersionController:Ae,SettingStorageType:Re,moduleSetting:Te,settingForTest:function(e){return we.instance().settingForTest(e)},detectColorFormat:function(e){const t=x;let s;const r=we.instance().moduleSetting("colorFormat").get();return s=r===t.Original?t.Original:r===t.RGB?t.RGB:r===t.HSL?t.HSL:r===t.HEX?e.detectHEXFormat():t.RGB,s},getRegisteredSettings:_e,registerSettingExtension:function(e){const t=e.settingName;if(pe.has(t))throw new Error(`Duplicate setting name '${t}'`);pe.add(t),de.push(e)},SettingCategoryObject:me,SettingTypeObject:fe,SimpleSettingOption:undefined});var Oe=Object.freeze({__proto__:null,HistoryEntry:class{valid(){throw new Error("not implemented")}reveal(){}},SimpleHistoryManager:class{constructor(e){this._entries=[],this._activeEntryIndex=-1,this._coalescingReadonly=0,this._historyDepth=e}readOnlyLock(){++this._coalescingReadonly}releaseReadOnlyLock(){--this._coalescingReadonly}readOnly(){return Boolean(this._coalescingReadonly)}filterOut(e){if(this.readOnly())return;const t=[];let s=0;for(let r=0;r<this._entries.length;++r)e(this._entries[r])?r<=this._activeEntryIndex&&++s:t.push(this._entries[r]);this._entries=t,this._activeEntryIndex=Math.max(0,this._activeEntryIndex-s)}empty(){return!this._entries.length}active(){return this.empty()?null:this._entries[this._activeEntryIndex]}push(e){this.readOnly()||(this.empty()||this._entries.splice(this._activeEntryIndex+1),this._entries.push(e),this._entries.length>this._historyDepth&&this._entries.shift(),this._activeEntryIndex=this._entries.length-1)}rollback(){if(this.empty())return!1;let e=this._activeEntryIndex-1;for(;e>=0&&!this._entries[e].valid();)--e;return!(e<0)&&(this.readOnlyLock(),this._entries[e].reveal(),this.releaseReadOnlyLock(),this._activeEntryIndex=e,!0)}rollover(){let e=this._activeEntryIndex+1;for(;e<this._entries.length&&!this._entries[e].valid();)++e;return!(e>=this._entries.length)&&(this.readOnlyLock(),this._entries[e].reveal(),this.releaseReadOnlyLock(),this._activeEntryIndex=e,!0)}}});var Ce=Object.freeze({__proto__:null,OutputStream:class{async write(e){}async close(){}},StringOutputStream:class{constructor(){this._data=""}async write(e){this._data+=e}async close(){}data(){return this._data}}});class Pe{constructor(){this._size,this._root=0,this._edges,this._isWord,this._wordsInSubtree,this._freeNodes,this.clear()}add(e){let t=this._root;++this._wordsInSubtree[this._root];for(let s=0;s<e.length;++s){const r=e[s];let i=this._edges[t][r];i||(this._freeNodes.length?i=this._freeNodes.pop():(i=this._size++,this._isWord.push(!1),this._wordsInSubtree.push(0),this._edges.push({__proto__:null})),this._edges[t][r]=i),++this._wordsInSubtree[i],t=i}this._isWord[t]=!0}remove(e){if(!this.has(e))return!1;let t=this._root;--this._wordsInSubtree[this._root];for(let s=0;s<e.length;++s){const r=e[s],i=this._edges[t][r];--this._wordsInSubtree[i]||(delete this._edges[t][r],this._freeNodes.push(i)),t=i}return this._isWord[t]=!1,!0}has(e){let t=this._root;for(let s=0;s<e.length;++s)if(t=this._edges[t][e[s]],!t)return!1;return this._isWord[t]}words(e){e=e||"";let t=this._root;for(let s=0;s<e.length;++s)if(t=this._edges[t][e[s]],!t)return[];const s=[];return this._dfs(t,e,s),s}_dfs(e,t,s){this._isWord[e]&&s.push(t);const r=this._edges[e];for(const e in r)this._dfs(r[e],t+e,s)}longestPrefix(e,t){let s=this._root,r=0;for(let i=0;i<e.length&&(s=this._edges[s][e[i]],s);++i)t&&!this._isWord[s]||(r=i+1);return e.substring(0,r)}clear(){this._size=1,this._root=0,this._edges=[{__proto__:null}],this._isWord=[!1],this._wordsInSubtree=[0],this._freeNodes=[]}}var Le=Object.freeze({__proto__:null,Trie:Pe});var Me=Object.freeze({__proto__:null,TextDictionary:class{constructor(){this._words=new Map,this._index=new Pe}addWord(e){let t=this._words.get(e)||0;++t,this._words.set(e,t),this._index.add(e)}removeWord(e){let t=this._words.get(e)||0;if(t){if(1===t)return this._words.delete(e),void this._index.remove(e);--t,this._words.set(e,t)}}wordsWithPrefix(e){return this._index.words(e)}hasWord(e){return this._words.has(e)}wordCount(e){return this._words.get(e)||0}reset(){this._words.clear(),this._index.clear()}}});var Ve=Object.freeze({__proto__:null,FinishCallback:undefined,Throttler:class{constructor(e){this._timeout=e,this._isRunningProcess=!1,this._asSoonAsPossible=!1,this._process=null,this._lastCompleteTime=0,this._schedulePromise=new Promise((e=>{this._scheduleResolve=e}))}_processCompleted(){this._lastCompleteTime=this._getTime(),this._isRunningProcess=!1,this._process&&this._innerSchedule(!1),this._processCompletedForTests()}_processCompletedForTests(){}_onTimeout(){delete this._processTimeout,this._asSoonAsPossible=!1,this._isRunningProcess=!0,Promise.resolve().then(this._process).catch(console.error.bind(console)).then(this._processCompleted.bind(this)).then(this._scheduleResolve),this._schedulePromise=new Promise((e=>{this._scheduleResolve=e})),this._process=null}schedule(e,t){this._process=e;const s=Boolean(this._processTimeout)||this._isRunningProcess,r=this._getTime()-this._lastCompleteTime>this._timeout,i=(t=Boolean(t)||!s&&r)&&!this._asSoonAsPossible;return this._asSoonAsPossible=this._asSoonAsPossible||t,this._innerSchedule(i),this._schedulePromise}_innerSchedule(e){if(this._isRunningProcess)return;if(this._processTimeout&&!e)return;this._processTimeout&&this._clearTimeout(this._processTimeout);const t=this._asSoonAsPossible?0:this._timeout;this._processTimeout=this._setTimeout(this._onTimeout.bind(this),t)}_clearTimeout(e){clearTimeout(e)}_setTimeout(e,t){return window.setTimeout(e,t)}_getTime(){return window.performance.now()}}});var Ne=Object.freeze({__proto__:null,WasmDisassembly:class{constructor(e,t){this._offsets=e,this._functionBodyOffsets=t}get lineNumbers(){return this._offsets.length}bytecodeOffsetToLineNumber(e){let t=0,s=this._offsets.length-1;for(;t<=s;){const r=Math.floor((t+s)/2),i=this._offsets[r];if(i<e)t=r+1;else{if(!(i>e))return r;s=r-1}}return t}lineNumberToBytecodeOffset(e){return this._offsets[e]}*nonBreakableLineNumbers(){let e=0,t=0;for(;e<this.lineNumbers;){if(t<this._functionBodyOffsets.length){if(this.lineNumberToBytecodeOffset(e)>=this._functionBodyOffsets[t].start){e=this.bytecodeOffsetToLineNumber(this._functionBodyOffsets[t++].end);continue}}yield e++}}}});class Fe{constructor(e){this._workerPromise=new Promise((t=>{const s=new Worker(e,{type:"module"});s.onmessage=e=>{console.assert("workerReady"===e.data),s.onmessage=null,t(s)}}))}static fromURL(e){return new Fe(e)}postMessage(e){this._workerPromise.then((t=>{this._disposed||t.postMessage(e)}))}dispose(){this._disposed=!0,this._workerPromise.then((e=>e.terminate()))}terminate(){this.dispose()}set onmessage(e){this._workerPromise.then((t=>{t.onmessage=e}))}set onerror(e){this._workerPromise.then((t=>{t.onerror=e}))}}var Ie=Object.freeze({__proto__:null,WorkerWrapper:Fe});const je=s.ls;let We;export{i as App,n as AppProvider,l as Base64,h as CharacterIdMap,O as Color,b as ColorUtils,B as Console,H as Debouncer,z as EventTarget,U as JavaScriptMetaData,$ as Lazy,Z as Linkifier,P as ObjectWrapper,Q as ParsedURL,ee as Progress,te as QueryParamHandler,he as ResourceType,V as Revealer,ce as Runnable,ge as SegmentedRange,ke as Settings,Oe as SimpleHistoryManager,Ce as StringOutputStream,Me as TextDictionary,Ve as Throttler,Le as Trie,Ne as WasmDisassembly,Ie as Worker,je as ls,We as settings};
